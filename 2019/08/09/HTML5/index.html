<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lostmyself.github.io/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lostmyself.github.io/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/lostmyself.github.io/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/lostmyself.github.io/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/lostmyself.github.io/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/lostmyself.github.io/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/lostmyself.github.io/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta name="description" content="1234HTML5html  --进阶--&amp;gt;  HTML5css  --进阶--&amp;gt;  CSS3javascript  --进阶--&amp;gt;  ES6  12345678910历史:    HTML1.0 IETF草案    HTML2.0 IETF规范    HTML3.2 W3C规范    HTML4.01 W3C规范 (1999年提出 之前所说的html,都是4.01版本)">
<meta name="keywords" content="web前端开发">
<meta property="og:type" content="article">
<meta property="og:title" content="HTML5">
<meta property="og:url" content="https://sxw19960127.github.io/lostmyself.github.io/2019/08/09/HTML5/index.html">
<meta property="og:site_name" content="sxw个人博客">
<meta property="og:description" content="1234HTML5html  --进阶--&amp;gt;  HTML5css  --进阶--&amp;gt;  CSS3javascript  --进阶--&amp;gt;  ES6  12345678910历史:    HTML1.0 IETF草案    HTML2.0 IETF规范    HTML3.2 W3C规范    HTML4.01 W3C规范 (1999年提出 之前所说的html,都是4.01版本)">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-08-09T09:44:33.108Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HTML5">
<meta name="twitter:description" content="1234HTML5html  --进阶--&amp;gt;  HTML5css  --进阶--&amp;gt;  CSS3javascript  --进阶--&amp;gt;  ES6  12345678910历史:    HTML1.0 IETF草案    HTML2.0 IETF规范    HTML3.2 W3C规范    HTML4.01 W3C规范 (1999年提出 之前所说的html,都是4.01版本)">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/lostmyself.github.io/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://sxw19960127.github.io/lostmyself.github.io/2019/08/09/HTML5/">






  <title>HTML5 | sxw个人博客</title>
  








  
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/lostmyself.github.io/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">sxw个人博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">你若盛开,蝴蝶自来</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/lostmyself.github.io/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/lostmyself.github.io/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/lostmyself.github.io/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/lostmyself.github.io/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/lostmyself.github.io/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://sxw19960127.github.io/lostmyself.github.io/lostmyself.github.io/2019/08/09/HTML5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="sxw">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/lostmyself.github.io/images/3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="sxw个人博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">HTML5</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-08-09T17:33:04+08:00">
                2019-08-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-file-o"></i> 浏览
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>次
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  16.2k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  77
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">HTML5</span><br><span class="line">html  --进阶--&gt;  HTML5</span><br><span class="line">css  --进阶--&gt;  CSS3</span><br><span class="line">javascript  --进阶--&gt;  ES6</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">历史:</span><br><span class="line">    HTML1.0 IETF草案</span><br><span class="line">    HTML2.0 IETF规范</span><br><span class="line">    HTML3.2 W3C规范</span><br><span class="line">    HTML4.01 W3C规范 (1999年提出 之前所说的html,都是4.01版本)</span><br><span class="line">    ...XHTML1.0反应良好 (在html中引入xml,严格要求写法,一定程度上解决了浏览器兼容性问题)</span><br><span class="line">    ...XHTML2.0过于严格 (且不支持旧的页面,因为没有按规范来写,页面展示不出来,导致浏览器厂商不干了)</span><br><span class="line">    ...WHATWG建立 (以拓展和改进html为目的)</span><br><span class="line">    ...W3C与WHATWG合作 (2006年)</span><br><span class="line">    HTML5 W3C规范 (2008年提出html5草案)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">理念:</span><br><span class="line">    1.避免不必要的复杂;</span><br><span class="line">        Doctype:指示web浏览器关于页面使用哪个HTML版本进行编写的指令。</span><br><span class="line">            html4.01: &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML4.01...&gt;</span><br><span class="line">            html5简化为: &lt;！DOCTYPE html&gt;</span><br><span class="line">        还有link,script,meta等标签。</span><br><span class="line">    2.支持已有的写法;</span><br><span class="line">    3.解决实际问题;</span><br><span class="line">    4.优雅降级;</span><br><span class="line">        很多标签里的属性当浏览器不支持某个新的写法的时候浏览器会降级到一个默认的浏览器支持的属性</span><br><span class="line">    5.用户优先;</span><br><span class="line">        用户 &gt; 开发者(程序员) &gt; 浏览器厂商 &gt; 标准制定者</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Doctype (标准模式/怪异模式)</span><br><span class="line">验证:</span><br><span class="line">	console.log(document.compatMode);</span><br><span class="line">        返回BackCompat --&gt; 表示怪异模式(按照各个浏览器来解析)</span><br><span class="line">        返回CSS1Compat --&gt; 表示标准模式(按照规范来解析)</span><br><span class="line">区别:</span><br><span class="line">    1.标准盒模型和IE6混杂模式盒模型;</span><br><span class="line">    2.table字体在标准模式下继承body,怪异模式下不继承body;</span><br><span class="line">    3.怪异模式IE6以下版本中可以给span等行级元素设置宽高;</span><br><span class="line">    4.怪异模式下即使父级没有高度,也可以设置百分比高度;</span><br><span class="line">    5.怪异模式IE6以下margin:0 auto不能左右居中;</span><br><span class="line">    6.怪异模式IE6以下图片的padding失效;</span><br><span class="line">    7.只有在IE6之前的浏览器才会触发IE6混杂模式;</span><br><span class="line">    8.IE6混杂模式盒模型是微软超前的意识提出的,所以只有IE浏览器才会有;</span><br><span class="line">    9.在怪异模式下盒模型的总宽度和高度是包含内边距padding和边框border在内的,所以盒子宽度即为width;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">新特性:</span><br><span class="line">    1.新语义元素;</span><br><span class="line">    2.forms2表单元素HTML网页表单的改进,其中为&lt;input&gt;标记引入了新属性;</span><br><span class="line">    3.音视频;</span><br><span class="line">    4.画布;</span><br><span class="line">    5.拖放;</span><br><span class="line">    6.文件读取;</span><br><span class="line">    7.回调函数管理api;</span><br><span class="line">    8.地理位置;</span><br><span class="line">    9.执行脚本多线程worker;</span><br><span class="line">    10.本地存储;</span><br><span class="line">    11.websocket;</span><br><span class="line">    12.HistoryAPI;</span><br><span class="line">    13.跨文档通信postmessage;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">HTML5结构元素</span><br><span class="line">&lt;前5个使用比较多&gt;</span><br><span class="line">    1.header 整个页面的头部,某块区域的标题,页眉;</span><br><span class="line">    2.footer 文档或者某一块的底部,页脚;</span><br><span class="line">    3.main 主要内容区域;</span><br><span class="line">    4.nav 导航链接部分;</span><br><span class="line">    5.section 页面中一个内容区域;</span><br><span class="line">    </span><br><span class="line">    6.article 它代表一个独立的,完整的相关内容块;</span><br><span class="line">    7.aside 表示一个页面的一部分,和这个页面的其他内容关联性不强,或者是没有关联,单独存在;</span><br><span class="line">    8.figure 规定独立的流内容(图像,图表,照片,代码...);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">HTML5功能元素</span><br><span class="line">1.video 视频;</span><br><span class="line">2.audio 音频;</span><br><span class="line">3.source 资源;</span><br><span class="line">4.canvas 画布;</span><br><span class="line">5.progress 进程;</span><br><span class="line">6.figcaption 标签定义(了解即可);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">controls 显示出相应视频音频的控件</span><br><span class="line">poster是为视频第一帧设置海报,只有video有</span><br><span class="line">&lt;video height=&quot;600px&quot; controls src=&quot;./video/1.mp4&quot; poster=&quot;./1.png&quot;&gt;&lt;/video&gt;</span><br><span class="line">&lt;audio src=&quot;./video/1.mp3&quot; controls&gt;&lt;/audio&gt;</span><br><span class="line">&lt;audio controls&gt;</span><br><span class="line">   &lt;source src=&quot;./video/1.mp3&quot;&gt; //先去服务器里看一下有没有mp3格式</span><br><span class="line">   &lt;source src=&quot;./video/1.ogg&quot;&gt; //没有的话再去申请ogg格式,按顺序加载</span><br><span class="line">&lt;/audio&gt;</span><br><span class="line">&lt;script&gt; //js动态创建Audio</span><br><span class="line">    var myAudio = new Audio(&apos;./video/1.mp3&apos;); //和img标签一样</span><br><span class="line">    myAudio.controls = &apos;controls&apos;; //这里直接等于true,也行</span><br><span class="line">    document.body.appendChild(myAudio); //插入到dom当中,添加子元素</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;canvas width=600 height=600&gt;&lt;/canvas&gt;</span><br><span class="line">&lt;progress id=&quot;pro&quot; max=100 min=0 value=30&gt;&lt;/progress&gt;</span><br><span class="line">浏览器支持情况:</span><br><span class="line">    canPlayType()方法,audio.canPlayType() --&gt; 返回probably或者maybe,返回空为不支持</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            span&#123;</span><br><span class="line">                display: none;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;progress id=&quot;pro&quot; max=100 min=0 value=0&gt;&lt;/progress&gt;</span><br><span class="line">        &lt;span id=&quot;ok&quot;&gt;完成&lt;/span&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var timer = setInterval(function() &#123; //设置计时器</span><br><span class="line">//平时练习的时候可以不写document.getElementById(&quot;pro&quot;)来获取dom节点,通过对应的id值.属性      </span><br><span class="line">                if(pro.value === 100) &#123; </span><br><span class="line">                    clearInterval(timer);</span><br><span class="line">                    ok.style.display = &quot;block&quot;;</span><br><span class="line">                &#125;else &#123;</span><br><span class="line">                    pro.value += 10;</span><br><span class="line">                    console.log(&quot;检查计时器有没有清除&quot;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,1000);</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">HTML5表单元素</span><br><span class="line">&lt;input type=&quot;text&quot;&gt; 文本框</span><br><span class="line">&lt;input type=&quot;radio&quot;&gt; 小圆点</span><br><span class="line">&lt;input type=&quot;checkbox&quot;&gt; 复选框</span><br><span class="line">&lt;input type=&quot;password&quot;&gt; 密码</span><br><span class="line">&lt;input type=&quot;submit&quot;&gt; 提交</span><br><span class="line">&lt;input type=&quot;button&quot;&gt; 按钮</span><br><span class="line">&lt;input type=&quot;file&quot;&gt; 上传文件</span><br><span class="line">input新属性:</span><br><span class="line">    1.multiple 可上传多个文件;</span><br><span class="line">    2.placeholder 提示用户当前文本框是干啥作用的;</span><br><span class="line">    3.pattern 验证input类型输入框中内容是否与正则匹配;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot;&gt;</span><br><span class="line">        &lt;form action=&quot;&quot;&gt;</span><br><span class="line">//应用场景,radio单选框,性别选择,name必须相同才能起到单选的目的,value是提交时候后台获取的值</span><br><span class="line">            &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;male&quot;&gt;男生 </span><br><span class="line">            &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;female&quot;&gt;女生</span><br><span class="line">            &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">        &lt;form action=&quot;&quot;&gt;</span><br><span class="line">			应用场景,checkbox复选,提交到后台的时候是name=value的形式</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; name=&quot;eat&quot; value=&quot;apple&quot;&gt;苹果</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; name=&quot;eat&quot; value=&quot;pear&quot;&gt;梨</span><br><span class="line">            &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">        &lt;form action=&quot;&quot;&gt;</span><br><span class="line">        	自动把我们输入的值作为value值</span><br><span class="line">            &lt;input type=&quot;password&quot; name=&quot;word&quot;&gt;</span><br><span class="line">            &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">        &lt;input type=&quot;button&quot; value=&quot;ok&quot;&gt; //小按钮</span><br><span class="line">        &lt;form action=&quot;&quot;&gt;</span><br><span class="line">            &lt;input type=&quot;file&quot; multiple&gt; //multiple可以同时选择多个文件</span><br><span class="line">            &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">input type新增</span><br><span class="line">    &lt;input type=&quot;tel&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;range&quot;&gt; //进度条</span><br><span class="line">    &lt;input type=&quot;number&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;search&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;email&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;datatime-local&quot;&gt; //表示本地日期和时间,支持情况不是很好</span><br><span class="line">    &lt;input type=&quot;color&quot;&gt; //供我们选择颜色的</span><br><span class="line">    &lt;input type=&quot;date&quot;&gt; //以下四个使用不多</span><br><span class="line">    &lt;input type=&quot;month&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;week&quot;&gt;</span><br><span class="line">    &lt;input type=&quot;time&quot;&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            input&#123;</span><br><span class="line">                display: block; //独占一行</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;form action=&quot;&quot;&gt;</span><br><span class="line">            &lt;input type=&quot;tel&quot;&gt; //当前文本框是一个输入电话号码的文本框,移动端比较明显</span><br><span class="line">只能输入数字和下划线,当超过规定数值范围提交的时候会提示,在移动端的时候会自动弹出一个数字键盘</span><br><span class="line">            &lt;input type=&quot;number&quot; max=&quot;100&quot; min=&quot;0&quot;&gt;</span><br><span class="line">            &lt;input type=&quot;email&quot; value=&quot;123@qq.com&quot;&gt;</span><br><span class="line">            &lt;input id=&quot;range&quot; type=&quot;range&quot; max=&quot;100&quot; min=&quot;0&quot; step=&quot;10&quot; value=&quot;0&quot;&gt;</span><br><span class="line">            &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            range.onclick = function() &#123;</span><br><span class="line">                // console.log(this);</span><br><span class="line">                console.log(this.value); //谁调用了这个函数,这个函数里的this就指向谁</span><br><span class="line">            &#125;;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;form action=&quot;&quot;&gt;</span><br><span class="line">        	//pattern属性可以代替下面js里的正则表达式</span><br><span class="line">            &lt;input id=&quot;test&quot; type=&quot;text&quot; pattern=&quot;^\d&#123;6&#125;$&quot; name=&quot;num&quot;&gt;</span><br><span class="line">            &lt;input type=&quot;submit&quot;&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            //用正则表达式写输入框内只能书写6位数字</span><br><span class="line">//^以...开头 ,$以...结束(锁定了只能输入6个数字) ,// ,\d表示数字 ,&#123;6&#125;只能书写6位 ,g只有6位</span><br><span class="line">            var reg = /^\d&#123;6&#125;$/g;</span><br><span class="line">            test.onblur = function() &#123; //失去焦点的时候value值是几位</span><br><span class="line">                if(reg.test(this.value)) &#123; //匹配对应test函数,匹配的是input框中的value值</span><br><span class="line">                    this.style.borderColor = &quot;green&quot;;</span><br><span class="line">                &#125;else &#123;</span><br><span class="line">                    this.style.borderColor = &quot;red&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Audio/Video元素基本属性</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;audio id=&quot;myAudio&quot; controls src=&quot;./video/1.mp3&quot;&gt;&lt;/audio&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var obj = &#123;</span><br><span class="line">                aa: function() &#123;</span><br><span class="line">                    console.log(3);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            if(obj.aa) &#123;</span><br><span class="line">                console.log(&quot;有！&quot;)</span><br><span class="line">            &#125;</span><br><span class="line">            //检验我们的浏览器是否支持audio标签以及支持什么格式的音频</span><br><span class="line">            var myAudio = document.getElementById(&apos;myAudio&apos;);</span><br><span class="line">            if(myAudio.canPlayType) &#123;</span><br><span class="line">                if(myAudio.canPlayType(&quot;audio/mpeg&quot;) != &quot;&quot;) &#123;</span><br><span class="line">                    document.write(&quot;您的浏览器支持mp3编码;&quot;);</span><br><span class="line">                    // --&gt; probably</span><br><span class="line">                &#125;</span><br><span class="line">                if(myAudio.canPlayType(&apos;audio/ogg; codecs=&quot;vorbis&quot;&apos;) != &quot;&quot;) &#123;</span><br><span class="line">                    document.write(&apos;您的浏览器支持ogg编码;&apos;);</span><br><span class="line">                    // --&gt; probably;</span><br><span class="line">                &#125;</span><br><span class="line">                if(myAudio.canPlayType(&apos;audio/mp4; codecs=&quot;mp4a.40.5&quot;&apos;) != &quot;&quot;) &#123;</span><br><span class="line">                    document.write(&apos;您的浏览器支持aac编码&apos;);</span><br><span class="line">                    // --&gt; probably</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;else &#123;</span><br><span class="line">                document.write(&quot;您的浏览器不支持要检测的音频文件&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">Audio/Video 属性:</span><br><span class="line">	1.muted 静音;</span><br><span class="line">	2.autoplay 自动播放,注意在静音muted的条件下而且只有video好用;</span><br><span class="line">	3.controls 调出控件;</span><br><span class="line">	4.loop 循环播放,视频音频都行;</span><br><span class="line">	5.preload(none/metadata/auto) 是否预加载;</span><br><span class="line">         none:不进行预加载;</span><br><span class="line">         metadata:部分进行预加载,提供基本的没啥用的信息,宽高,但是里面的内容是不加载出来的;</span><br><span class="line">         auto:全部预加载;</span><br><span class="line">		 preload=&quot;metadata&quot;;</span><br><span class="line">	6.currentSrc 获取资源链接(注意要资源加载完成后才能获取到);</span><br><span class="line">        var myAudio = document.getElementById(&quot;myAudio&quot;);</span><br><span class="line">        myAudio.oncanplay = function() &#123; </span><br><span class="line">        //为啥要绑定一个canplay事件,因为我们获取资源链接是需要等视频链接加载完的,而canplay事件是不确定按照当前播放速率能否将视频播放完,既然都能够播放视频了,肯定已经加载完地址了</span><br><span class="line">          console.log(myAudio.currentSrc);  </span><br><span class="line">        &#125;;</span><br><span class="line">	7.duration 媒体持续时间(总时长,注意要资源加载完成后才能获取到)在canplay事件函数里面去检测;</span><br><span class="line">	8.currentTime 返回或设置资源当前时间;</span><br><span class="line">        &lt;audio id=&quot;myAudio&quot; src=&quot;./song.mp3&quot; controls&gt;</span><br><span class="line">        &lt;button id=&quot;current&quot;&gt;currentTime&lt;/button&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var myAudio = document.getElementById(&apos;myAudio&apos;);</span><br><span class="line">            current.onclick = function() &#123;</span><br><span class="line">                console.log(muAudio.currentTime);</span><br><span class="line">            &#125;;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">	9.volume 音量[0-1],可读可写;</span><br><span class="line">        &lt;audio id=&quot;myAudio&quot; src=&quot;./1.mp3&quot; controls&gt;&lt;/audio&gt;</span><br><span class="line">        &lt;button id=&quot;lessVolume&quot;&gt;-&lt;/button&gt;</span><br><span class="line">        &lt;button id=&quot;addVolume&quot;&gt;+&lt;/button&gt; //为啥不写成addvolume,大写是为了下面直接获取dom节点</span><br><span class="line">        &lt;button id=&quot;quick&quot;&gt;快进&lt;/button&gt;</span><br><span class="line">        &lt;button id=&quot;slow&quot;&gt;慢放&lt;/button&gt;</span><br><span class="line">        &lt;button id=&quot;p&quot;&gt;play/pause&lt;/button&gt;</span><br><span class="line">        &lt;button id=&quot;btn&quot;&gt;btn&lt;/button&gt;</span><br><span class="line">		&lt;script&gt;</span><br><span class="line">            //var myAudio = document.getElementById(&quot;myAudio&quot;);这样获取dom节点比较规范</span><br><span class="line">            lessVolume.onclick = function() &#123;</span><br><span class="line">                var volume = parseInt((myAudio.volume - 0.1)* 10) / 10;</span><br><span class="line">                if(volume &gt;= 0 &amp;&amp; volume &lt;= 1) &#123;</span><br><span class="line">                    myAudio.volume = volume;</span><br><span class="line">                &#125; </span><br><span class="line">                console.log(myAudio.volume);</span><br><span class="line">            &#125;;</span><br><span class="line">            addVolume.onclick = function() &#123; //bug待解决:为啥音量只能加到0.7就上不去了</span><br><span class="line">                var volume = parseInt((myAudio.volume + 0.1) * 10) /10;</span><br><span class="line">                if(volume &gt;= 0 &amp;&amp; volume &lt;= 1) &#123;</span><br><span class="line">                    myAudio.volume = volume;</span><br><span class="line">                &#125;</span><br><span class="line">                console.log(myAudio.volume);</span><br><span class="line">            &#125;;</span><br><span class="line">            quick.onclick = function() &#123;</span><br><span class="line">                myAudio.playbackRate += 0.1;  </span><br><span class="line">            &#125;;</span><br><span class="line">            slow.onclick = function() &#123;</span><br><span class="line">                myAudio.playbackRate -= 0.1;  </span><br><span class="line">            &#125;;</span><br><span class="line">            p.onclick = function() &#123;</span><br><span class="line">                if(myAudio.paused) &#123;</span><br><span class="line">                    myAudio.play();</span><br><span class="line">                &#125;else &#123;</span><br><span class="line">                    myAudio.pause();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            //判断两种状态进行标识</span><br><span class="line">            var flag = true;</span><br><span class="line">            p.onclick = function() &#123;</span><br><span class="line">                flag = !flag;</span><br><span class="line">                if(flag) &#123;</span><br><span class="line">                    console.log(1);</span><br><span class="line">                &#125;else &#123;</span><br><span class="line">                    console.log(0);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            btn.onclick = function() &#123;</span><br><span class="line">                myAudio.src = &quot;./2.mp3&quot;; //实现切歌的效果</span><br><span class="line">                myAudio.load(); //重新加载资源,在有自动播放的时候当做切歌比较舒服</span><br><span class="line">            &#125;;</span><br><span class="line">            //事件的触发</span><br><span class="line">            myAudio.onplay = function() &#123;</span><br><span class="line">                console.log(&quot;我播放啦~&quot;);</span><br><span class="line">            &#125;;</span><br><span class="line">            myAudio.onpause = function() &#123;</span><br><span class="line">                console.log(&quot;我暂停啦~&quot;);</span><br><span class="line">            &#125;;</span><br><span class="line">            myAudio.onended = function() &#123;</span><br><span class="line">                cosole.log(&quot;我结束啦~&quot;);</span><br><span class="line">            &#125;;</span><br><span class="line">		&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Audio/Video 方法:</span><br><span class="line">    play() 播放</span><br><span class="line">    pause() 停止</span><br><span class="line">    load() 重置媒体元素并重新载入媒体,可中止正在进行的任务或事件</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Audio/Video 事件:</span><br><span class="line">    play 媒体开始播放时触发</span><br><span class="line">    pause 媒体暂停时触发</span><br><span class="line">    ended 资源播放结束</span><br><span class="line">    canplay 浏览器能够开始播放媒体数据,但是不确定已当前的速率能否顺利的播放完媒体</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Audio/Video 属性(了解即可):</span><br><span class="line">	1.playbackRate 读取或设置媒体资源播放的当前速率(大于1快放,大于0小于1慢放,无倒放);</span><br><span class="line">	2.paused/ended/seeking 查询媒体播放状态,返回true/false;</span><br><span class="line">	3.paused 是否暂停,返回状态true/false;</span><br><span class="line">	4.ended 判断音频是否结束了;</span><br><span class="line">	5.seeking 正在请求某一播放位置的媒体数据,了解即可;</span><br><span class="line">	6.player/buffered/seekable 均返回一个TimeRanges对象;</span><br><span class="line">		timeRanges对象的length属性为部分时间段;</span><br><span class="line">		end(i)返回已播放时间段的结束时间;</span><br><span class="line">		start(i)返回已播放时间段的开始时间;</span><br><span class="line">	7.played 标明媒体资源在浏览器中已播放的时间范围;</span><br><span class="line">		在两个暂停中间进行的播放时间长度,返回一个数组,当然也可以获取播放开始的时间和播放结束的时间</span><br><span class="line">	8.buffered 确定浏览器已经缓存媒体文件;</span><br><span class="line">	9.seekable 表明可以对当前媒体资源进行请求;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">Canvas画布</span><br><span class="line">1.&quot;Canvas、Node.js、Express、MongoDB、Mongoose、Angular、React、Redux、Vue、Vuex、ECMAScript2016、typescript、webpack、gulp、Angular2、HybridApp...”都是加分项;</span><br><span class="line">2.根本的能力是业务的书写水平:</span><br><span class="line">    对代码的感觉要非常的高,对代码的疯狂,每天晚上都要学;</span><br><span class="line">    读文档的能力(包括英语文档的能力),快速查询知识的能力,百度查询知识的能力;</span><br><span class="line">    学会思考、比较、对比,能提出自己独到的观点;</span><br><span class="line">3.学会制作:</span><br><span class="line">	Canvas游戏-HTML5水果忍者、结合HTML5+CSS3制作的酷炫网页、手机端的婚礼请柬 相册;</span><br><span class="line">4.小游戏:</span><br><span class="line">    打砖块</span><br><span class="line">    是男人就下100层</span><br><span class="line">    别踩黑块</span><br><span class="line">    围住神经猫</span><br><span class="line">    会飞的小鸟</span><br><span class="line">    推箱子</span><br><span class="line">    捕鱼达人</span><br><span class="line">    小兔子吃月饼</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Canvas简介:</span><br><span class="line">1.Canvas画布,是HTML5中非常重要的一个更新亮点,可以替代Flash的;</span><br><span class="line">2.制作动画、游戏,渲染效率非常高,浏览器不需要安装任何的插件就可以渲染动画;而Flash是需要安装Flash Player插件才行;</span><br><span class="line">3.Canvas是一个在面试中极度加分的项目,完整的去检验大家内功水平,全是面向对象;</span><br><span class="line">4.Canvas是一个标签,有一个默认的宽度,（不需要了解）。注意:如果我们要设置画布的宽高的时候,必须在HTML标签上设置,而不能在CSS上设置;</span><br><span class="line">5.Canvas在网页上呈现居然是一个会动的图片,我们可以右键图片另存为;</span><br><span class="line">6.我们必须使用JavaScript来控制Canvas渲染各种东西;</span><br><span class="line">7.ctx对象非常重要,所有的绘制都是ctx方法;</span><br><span class="line">8.canvas兼容到IE9;</span><br><span class="line">9.笔触和填充:Canvas中能够产生颜色的是两种东西:一个叫笔触(老百姓叫做描边),另一个叫做填充。</span><br><span class="line">绘制的线可以用fill填充,并且可以用strock来描边。需要注意的是,形状如果不封闭就fill了,此时形状会自动封闭,但是与封闭的区别在于封闭的那条线就没有了;</span><br><span class="line">ctx.strokeRect 矩形描边</span><br><span class="line">ctx.fillRect 矩形填充</span><br><span class="line">10.属性是用等号赋值,方法是用圆括号调用;</span><br><span class="line">11.弧和圆形 ---&gt; arc(x, y, radius, startAngle, endAngle, anticlockwise);</span><br><span class="line">画一个以(x,y)为圆心，以radius为半径的圆弧(圆)，从startAngle开始到endAngle结束，按照anticlockwise给定的方向(默认为顺时针)来生成。</span><br><span class="line">一定要注意,在canvas中角度是弧度制的。复习一下弧度制，就是在一个圆形披萨饼中，切一片披萨，让弧度边长等于圆的半径。此时无论圆形多大,切下来的角度是固定的,都是57.29度,称为1弧度,记做1rad。360° = 2* PI rad </span><br><span class="line">绘制一个圆形:ctx.arc(200,200,100,0,2*Math.PI,false);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">API小结:</span><br><span class="line">快速矩形描边		 ctx.strokeRect(x,y,w,h);</span><br><span class="line">开始绘制路径		 ctx.beginPath();</span><br><span class="line">封闭路径		     ctx.closePath();</span><br><span class="line">将画笔移动到某个点   ctx.moveTo(x,y);</span><br><span class="line">移动画笔画线,但是是虚拟的线		ctx.lineTo();</span><br><span class="line">画线				 ctx.stroke();</span><br><span class="line">填充				 ctx.fill();</span><br><span class="line">改变线的颜色		 ctx.strokeStyle = &quot;red&quot;;</span><br><span class="line">改变填充颜色		 ctx.fillStyle = &quot;red&quot;;</span><br><span class="line">快速矩形填色		 ctx.fillRect(x,y,w,h);</span><br><span class="line">清除一个矩形区域     ctx.clearRect(x,y,w,h);</span><br><span class="line">得到上下文	         mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line">mycanvas.getContext(&quot;2d&quot;) ------&gt; Context是上下文的意思。Canvas起初是空白的,为了展示,首先脚本需要找到渲染上下文,然后在它的上面绘制。&lt;canvas&gt;元素有一个getContext()的方法,这个方法是用来获得渲染上下文和它的绘画功能。getContext()只有一个参数,上下文的格式;</span><br><span class="line">设置图片的宽度和高度:ctx.drawImage(图片对象,dx画布上的左上角的x,dy画布上的左上角的y,100图片的宽,70图片的高);可以使用4个数字参数;</span><br><span class="line">比如:我们现在想在canvas上面呈递切片中的位置:</span><br><span class="line">将这个切片放置在画布的100,100 呈递的宽度、高度是切片的2倍;</span><br><span class="line">ctx.drawImage(image,299,94,93,76, 100,100,93*2,76*2); //前四个数是切片在原图上的位置的左上顶点和宽高,后四个数是canvas上的位置的左上顶点和宽高</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        canvas&#123;border: 1px solid red;&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	//注意，给canvas设置宽和高的时候不能在上面style样式里面设置，应该在canvas标签属性头部设置</span><br><span class="line">    &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        //使用DOM方法得到画布</span><br><span class="line">        var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">        //使用画布的上下文,所有的命令是由他发出的，而不是画布发出的。ctx即为context的缩写</span><br><span class="line">        var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line">        //画各种东西,用ctx打点调用方法,而不是myCanvas;</span><br><span class="line">        //画一个矩形,从点(100,100),画一个宽300,高40的矩形;</span><br><span class="line">        ctx.fillRect(100,100,300,40);</span><br><span class="line">        //所有的步骤都是ctx在打点,和canvas无关,所有API的绘制都是ctx的事情,而不是canvas对象;</span><br><span class="line">        ctx.fillStyle = &quot;blue&quot;;</span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        //画一个圆,圆心(300,300),半径100,从0画到2π,顺时针逆时针随便</span><br><span class="line">        ctx.arc(300,300,100,0,Math.PI*2,true);</span><br><span class="line">        ctx.fill();</span><br><span class="line">        ctx.closePath();</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        canvas&#123;border: 1px solid red;&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">        var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">        //笔触,只有描边没有里面的填充色</span><br><span class="line">        // ctx.strokeStyle = &quot;red&quot;;</span><br><span class="line">        // ctx.strockRect(x, y, width, height);</span><br><span class="line">        // ctx.strokeRect(100,100,300,40);</span><br><span class="line"></span><br><span class="line">        //线</span><br><span class="line">        ctx.beginPath(); //开始一个路径 (必须要有的)</span><br><span class="line">        ctx.moveTo(100, 100); //第一个点,移到点(100,100);(必须要有的)</span><br><span class="line">        ctx.lineTo(300, 300); //画一条线到点(300, 300),此时是一条抽象的线,没有画到画布上;</span><br><span class="line">        ctx.lineTo(300, 200); //可以不断进行画线;可以多次使用lineTo;</span><br><span class="line">        ctx.closePath(); //自动去封闭路径;</span><br><span class="line">        ctx.lineWidth = &quot;10&quot;; //设置描边线的粗细;</span><br><span class="line">        ctx.lineJoin = &quot;round&quot;; //改变线的端点形成的凹凸程度;</span><br><span class="line">        ctx.strokeStyle = &quot;red&quot;; //改变描边的颜色;</span><br><span class="line">        ctx.stroke(); //画线！必须调用stroke命令,把上面这条抽象的线给画下来;</span><br><span class="line">        ctx.fillStyle = &quot;pink&quot;; //改变填充的颜色;</span><br><span class="line">        ctx.fill(); //对这个形状进行填充;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">        var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">        //弧也是笔触</span><br><span class="line">        ctx.beginPath();</span><br><span class="line">		//圆心(200,200) 半径(100) 起始的弧度(0) 终止的弧度(1) true表示逆时针。</span><br><span class="line">        ctx.arc(200,200,100,0,1,true);</span><br><span class="line">        ctx.arc(100,100,50,0,2 * Math.PI,false);</span><br><span class="line">        ctx.stroke();</span><br><span class="line">        ctx.fill();</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">画一个小人头:</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">        var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line">        </span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        ctx.arc(200,200,100,0,Math.PI * 2,true); </span><br><span class="line">        ctx.stroke();</span><br><span class="line">        ctx.fillStyle = &quot;pink&quot;;</span><br><span class="line">        ctx.fill();</span><br><span class="line"></span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        ctx.arc(150,180,20,0,Math.PI * 2,true); </span><br><span class="line">        ctx.stroke();</span><br><span class="line">        ctx.fillStyle = &quot;red&quot;;</span><br><span class="line">        ctx.fill();</span><br><span class="line"></span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        ctx.arc(250,180,20,0,Math.PI * 2,true); </span><br><span class="line">        ctx.stroke();</span><br><span class="line">        ctx.fillStyle = &quot;red&quot;;</span><br><span class="line">        ctx.fill();</span><br><span class="line"></span><br><span class="line">        ctx.beginPath();</span><br><span class="line">        ctx.arc(200,170,90,0.5,2.6,false);</span><br><span class="line">        ctx.stroke();</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">贝塞尔曲线(稍微了解一下):</span><br><span class="line">一次贝塞尔曲线</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            canvas&#123;border: 1px solid red;&#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">            var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line">            </span><br><span class="line">            ctx.beginPath(); </span><br><span class="line">            ctx.moveTo(100, 100);</span><br><span class="line">            // ctx.quadraticCurveTo(cp1x, cp1y, x, y);</span><br><span class="line">            // 如果控制点(cp1x,cp1y)出现在100-300之间，则是一条直线</span><br><span class="line">            ctx.quadraticCurveTo(200, 200, 300, 300);</span><br><span class="line">            ctx.stroke(); </span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">    </span><br><span class="line">二次贝塞尔曲线</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">            var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line">            </span><br><span class="line">            ctx.beginPath(); </span><br><span class="line">            ctx.moveTo(100, 100);</span><br><span class="line">            // ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);</span><br><span class="line">            //ctx.bezierCurveTo(150, 150, 250, 250, 300, 300); 如果两个控制点与起始点和终止点相对应的话，就又是一条直线</span><br><span class="line">            ctx.bezierCurveTo(150, 50, 250, 450, 300, 300); //左边一头往上提，右边一头往下压</span><br><span class="line">            ctx.stroke(); </span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">运动:</span><br><span class="line">1.让元素在canvas上运动起来,需要使用定时器setInterval();</span><br><span class="line">2.Canvas使用了一个特殊的模式。上屏的元素,立刻被像素化。也就是说,上屏幕的元素,你将得不到这个“对象”;</span><br><span class="line">3.一个圆形画到ctx上面,此时就是一堆像素点,不是一个整体的对象了,你没有任何变量能够得到这个圆形,改变这个圆形的x、y;</span><br><span class="line">4.所以Canvas有一个机制,叫做上屏幕的元素是不能改变形状、位置的。你要想产生运动,必须重新画一个。所以Canvas的画图原理就是:清屏 --&gt; 重绘 --&gt; 清屏 --&gt; 重绘 --&gt;......;</span><br><span class="line">5.和DOM中的盒子运动完全不一样,DOM中我们试图更改同一个DOM元素的属性;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        canvas&#123;border: 1px solid red;&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">        var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">        var x = 100;</span><br><span class="line">        setInterval (function() &#123;</span><br><span class="line">            x++; //通过改变步长变换运动快慢 x+=10;</span><br><span class="line">            ctx.clearRect(0, 0, 600, 400); //清屏,从左上角(0,0)到画布整个宽和高</span><br><span class="line">            //绘制一个新的圆形</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.arc(x, 100, 50, 0, Math.PI*2, true);</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fillStyle = &quot;orange&quot;;</span><br><span class="line">            ctx.fill();</span><br><span class="line">        &#125;,20) //每20毫秒去执行里面的语句</span><br><span class="line">        //每20毫秒清屏,重绘,其实不是一个圆,只是我们的视觉残留觉得他在运动</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">改变运动速度的两种方法:</span><br><span class="line">    1.改变步长;</span><br><span class="line">    2.改变时间;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">DOM元素的移动:</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        div&#123;</span><br><span class="line">            width: 200px;</span><br><span class="line">            height: 200px;</span><br><span class="line">            background-color: orange;</span><br><span class="line">            position: relative; /*动起来的话要有一个定位*/</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var div = document.getElementsByTagName(&quot;div&quot;)[0]; </span><br><span class="line">        var left = 0;</span><br><span class="line">        setInterval(function() &#123;</span><br><span class="line">            left++;</span><br><span class="line">            div.style.left = left + &quot;px&quot;;</span><br><span class="line">        &#125;,20)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">DOM的思维在Canvas中一定要抛弃;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">两个圆在动:</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        canvas&#123;border: 1px solid red;&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">        var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">        var x = 100;</span><br><span class="line">        setInterval (function() &#123;</span><br><span class="line">            x++;</span><br><span class="line">            ctx.clearRect(0, 0, 600, 400);</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.arc(x, 100, 50, 0, Math.PI*2, true);</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fillStyle = &quot;orange&quot;;</span><br><span class="line">            ctx.fill();</span><br><span class="line"></span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.arc(x, 300, 50, 0, Math.PI*2, true);</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fillStyle = &quot;blue&quot;;</span><br><span class="line">            ctx.fill();</span><br><span class="line">        &#125;,20)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">两个圆:一个从100起步,另一个从200起步</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        canvas&#123;border: 1px solid red;&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">        var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">        var x1 = 100;</span><br><span class="line">        var x2 = 200;</span><br><span class="line">        setInterval (function() &#123;</span><br><span class="line">            ctx.clearRect(0, 0, 600, 400);</span><br><span class="line">            </span><br><span class="line">            x1++;</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.arc(x1, 100, 50, 0, Math.PI*2, true);</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fillStyle = &quot;orange&quot;;</span><br><span class="line">            ctx.fill();</span><br><span class="line"></span><br><span class="line">            x2++;</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.arc(x2, 300, 50, 0, Math.PI*2, true);</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fillStyle = &quot;blue&quot;;</span><br><span class="line">            ctx.fill();</span><br><span class="line">        &#125;,20)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">面向对象:</span><br><span class="line">不管页面上有几个元素在运动,一定只有一个定时器。定时器负责每帧清屏一次,然后重绘所有元素。但是关键是所有元素的信息、状态你难以维护,所以需要面向对象。</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            canvas&#123;border: 1px solid red;&#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">            var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line">            </span><br><span class="line">            //构造函数,圆类</span><br><span class="line">            function Ball(x, y, r, speed) &#123; //要有一个构造函数,要有一个类Ball</span><br><span class="line">                this.x = x; //坐标x</span><br><span class="line">                this.y = y; //坐标y</span><br><span class="line">                this.r = r; //半径</span><br><span class="line">                this.speed = speed; //速度</span><br><span class="line">            &#125;</span><br><span class="line">            //渲染的方法</span><br><span class="line">            Ball.prototype.render = function() &#123;</span><br><span class="line">                ctx.beginPath();</span><br><span class="line">                ctx.arc(this.x, this.y, this.r, 0, Math.PI*2, true);</span><br><span class="line">                ctx.closePath();</span><br><span class="line">                ctx.fill();</span><br><span class="line">            &#125;</span><br><span class="line">            //更新的方法</span><br><span class="line">            Ball.prototype.update = function() &#123;</span><br><span class="line">                this.x += this.speed;</span><br><span class="line">            &#125;</span><br><span class="line">            //实例化一个小球</span><br><span class="line">            var b = new Ball(100, 100, 50, 2);</span><br><span class="line">            //唯一的一个定时器</span><br><span class="line">            setInterval (function() &#123;</span><br><span class="line">                ctx.clearRect(0, 0, 600, 400); //清屏</span><br><span class="line">                b.update(); //让小球更新</span><br><span class="line">                b.render(); //渲染</span><br><span class="line">            &#125;,20);</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">我们用对象把数据进行牢牢地封装！</span><br><span class="line">所以,我们不要再用全局变量来维护某一个小球的x,y,r,speed等信息,而是应该用对象来封装她。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">两个小球的运动:</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        canvas&#123;border: 1px solid red;&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;canvas width=&quot;600&quot; height=&quot;400&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">        var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">        //构造函数,圆类</span><br><span class="line">        function Ball(x, y, r, speed) &#123; //要有一个构造函数，要有一个类Ball</span><br><span class="line">            this.x = x; //坐标x</span><br><span class="line">            this.y = y; //坐标y</span><br><span class="line">            this.r = r; //半径</span><br><span class="line">            this.speed = speed; //速度</span><br><span class="line">        &#125;</span><br><span class="line">        //渲染的方法</span><br><span class="line">        Ball.prototype.render = function() &#123;</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.arc(this.x, this.y, this.r, 0, Math.PI*2, true);</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fill();</span><br><span class="line">        &#125;</span><br><span class="line">        //更新的方法</span><br><span class="line">        Ball.prototype.update = function() &#123;</span><br><span class="line">            this.x += this.speed;</span><br><span class="line">        &#125;</span><br><span class="line">        //实例化一个小球</span><br><span class="line">        var b1 = new Ball(100, 100, 50, 2);</span><br><span class="line">        var b2 = new Ball(80, 200, 20, 8);</span><br><span class="line">        //唯一的一个定时器</span><br><span class="line">        setInterval(function() &#123;</span><br><span class="line">            ctx.clearRect(0, 0, 600, 400); //清屏</span><br><span class="line">            b1.update(); //让小球更新</span><br><span class="line">            b1.render(); //渲染</span><br><span class="line"></span><br><span class="line">            b2.update();</span><br><span class="line">            b2.render();</span><br><span class="line">        &#125;,20);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">让所有演员(就是上画布的元素),都要进入数组,在定时器中,每一帧更新所有演员,渲染所有演员。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        canvas&#123;border: 1px solid red;&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;canvas width=&quot;600&quot; height=&quot;600&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">        var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">        //构造函数,圆类</span><br><span class="line">        function Ball(x, y, r, speed, color) &#123; //要有一个构造函数,要有一个类Ball</span><br><span class="line">            this.x = x; //坐标x</span><br><span class="line">            this.y = y; //坐标y</span><br><span class="line">            this.r = r; //半径</span><br><span class="line">            this.speed = speed; //速度</span><br><span class="line">            this.color = color; //颜色</span><br><span class="line">            actorsArr.push(this);//将自己推入数组</span><br><span class="line">        &#125;</span><br><span class="line">        //渲染的方法</span><br><span class="line">        Ball.prototype.render = function() &#123;</span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.arc(this.x, this.y, this.r, 0, Math.PI*2, true);</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fillStyle = this.color;</span><br><span class="line">            ctx.fill();</span><br><span class="line">        &#125;</span><br><span class="line">        //更新的方法</span><br><span class="line">        Ball.prototype.update = function() &#123;</span><br><span class="line">            this.x += this.speed;</span><br><span class="line">        &#125;</span><br><span class="line">        //演员数组</span><br><span class="line">        var actorsArr = [];</span><br><span class="line">        //实例化一些小球,他们都可以自动动画</span><br><span class="line">        new Ball(100, 100, 30, 2, &quot;red&quot;);</span><br><span class="line">        new Ball(100, 200, 40, 3, &quot;pink&quot;);</span><br><span class="line">        new Ball(100, 300, 50, 4, &quot;skyblue&quot;);</span><br><span class="line">        new Ball(100, 400, 60, 5, &quot;yellow&quot;);</span><br><span class="line">        //帧编号,可以显示在屏幕左上角</span><br><span class="line">        var fno = 0;</span><br><span class="line">        //唯一的一个定时器</span><br><span class="line">        setInterval(function() &#123;</span><br><span class="line">            ctx.clearRect(0, 0, mycanvas.width, mycanvas.height); //清屏</span><br><span class="line">        //打印帧编号</span><br><span class="line">        fno ++;</span><br><span class="line">        ctx.fillStyle = &quot;black&quot;; //设置帧编号的颜色</span><br><span class="line">        ctx.fillText(&quot;帧编号:&quot;+ fno, 20, 20);</span><br><span class="line">            //更新、渲染所有演员</span><br><span class="line">            //用for循环来遍历</span><br><span class="line">            for(var i = 0;i &lt; actorsArr.length; i++) &#123;</span><br><span class="line">                actorsArr[i].update();</span><br><span class="line">                actorsArr[i].render();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,20);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">项目:鼠标移动炫彩小球</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        *&#123;</span><br><span class="line">            margin: 0;</span><br><span class="line">            padding: 0;</span><br><span class="line">        &#125;</span><br><span class="line">        body&#123;</span><br><span class="line">            background: black;</span><br><span class="line">            overflow: hidden;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;canvas id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">        var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">        //设置画布满屏</span><br><span class="line">        mycanvas.width = document.documentElement.clientWidth;</span><br><span class="line">        mycanvas.height = document.documentElement.clientHeight;</span><br><span class="line">        //小球类</span><br><span class="line">        function Ball(x,y) &#123;</span><br><span class="line">            this.x = x; //圆心横坐标x</span><br><span class="line">            this.y = y; //圆心纵坐标y</span><br><span class="line">            this.r = 30; //半径给定死</span><br><span class="line">            this.color = &quot;rgba(&quot; + parseInt(Math.random() * 256) + &quot;,&quot; + parseInt(Math.random() * 256) + &quot;,&quot; + parseInt(Math.random() * 256) + &quot;,0.8)&quot;;</span><br><span class="line">            this.dx = parseInt(Math.random() * 8) - 4; //x的变化值</span><br><span class="line">            this.dy = parseInt(Math.random() * 8) - 4; //y的变化值</span><br><span class="line">            ballsArr.push(this); //让自己进入数组</span><br><span class="line">        &#125;</span><br><span class="line">        //更新的方法</span><br><span class="line">        Ball.prototype.update = function() &#123;</span><br><span class="line">            this.x += this.dx;</span><br><span class="line">            this.y += this.dy;</span><br><span class="line">            this.r --; //半径减小，当自己半径没有的时候要从数组中清除自己了</span><br><span class="line">            if(this.r &lt; 0) &#123;</span><br><span class="line">                this.godie(); //执行godie函数</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //渲染的方法</span><br><span class="line">        Ball.prototype.render = function() &#123;</span><br><span class="line">        	ctx.beginPath();</span><br><span class="line">            ctx.arc(this.x, this.y, this.r, 0, Math.PI*2, true);</span><br><span class="line">            ctx.closePath();</span><br><span class="line">            ctx.fillStyle = this.color;</span><br><span class="line">            ctx.fill();</span><br><span class="line">        &#125;</span><br><span class="line">        //自杀函数</span><br><span class="line">        Ball.prototype.godie = function() &#123;</span><br><span class="line">            //遍历数组,因为不知道数组中第几项</span><br><span class="line">            for(var i = 0; i &lt; ballsArr.length; i++) &#123;</span><br><span class="line">                if(ballsArr[i] === this) &#123; //如果数组中有值等于自己</span><br><span class="line">                    ballsArr.splice(i, 1); //让数组删除自己，第i项，删1项</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        //把类构建好以后要学会静态的去测试一下</span><br><span class="line">        //var b = new Ball(100,100);</span><br><span class="line">        //b.render();</span><br><span class="line">        </span><br><span class="line">        //小球数组</span><br><span class="line">        var ballsArr = [];</span><br><span class="line">        //监听</span><br><span class="line">        mycanvas.onmousemove = function(event) &#123;</span><br><span class="line">            new Ball(event.clientX , event.clientY)</span><br><span class="line">        &#125;</span><br><span class="line">        //定时器</span><br><span class="line">        setInterval(function() &#123;</span><br><span class="line">            //清屏</span><br><span class="line">            ctx.clearRect(0, 0, mycanvas.width, mycanvas.height);</span><br><span class="line">            //渲染、更新所有小球</span><br><span class="line">            for(var i = 0; i &lt; ballsArr.length; i++) &#123;</span><br><span class="line">                ballsArr[i].update();</span><br><span class="line">                //因为update可能会删除这个小球(半径小于0)，所以要验证一下这个小球是否存在</span><br><span class="line">                ballsArr[i] &amp;&amp; ballsArr[i].render(); </span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;, 20);</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">使用图片:</span><br><span class="line">canvas中不可能所有的形状都自己画,一定是美工给我们素材,我们使用;</span><br><span class="line">canvas中使用图片,使用drawImage函数,但是有一个事必须注意,必须等img完全加载之后才能呈递图片;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;canvas width=&quot;400&quot; height=&quot;600&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">            var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">            //创建一个img对象的孤儿节点</span><br><span class="line">            var image = new Image();</span><br><span class="line">            image.src = &quot;img/1.jpg&quot;;</span><br><span class="line">            //一定要等到这个图片loading之后,然后渲染她</span><br><span class="line">            image.onload = function() &#123;</span><br><span class="line">                ctx.drawImage(image, 0, 0, 350, 550);//img这张图放到(0,0)位置上去宽350高550</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">使用精灵制作元素行走:</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        canvas&#123;border: 1px solid #333;&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;canvas width=&quot;800&quot; height=&quot;1200&quot; id=&quot;mycanvas&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var mycanvas = document.getElementById(&quot;mycanvas&quot;);</span><br><span class="line">        var ctx = mycanvas.getContext(&quot;2d&quot;);</span><br><span class="line"></span><br><span class="line">        var image = new Image();</span><br><span class="line">        image.src = &quot;img/1.png&quot;;</span><br><span class="line"></span><br><span class="line">        var step = 0;</span><br><span class="line">        var x = 100;</span><br><span class="line">        image.onload = function() &#123;</span><br><span class="line">            setInterval(function() &#123;</span><br><span class="line">                //清屏</span><br><span class="line">                ctx.clearRect(0, 0, 800, 1200);</span><br><span class="line">                step++;</span><br><span class="line">                if(step &gt; 3)&#123;</span><br><span class="line">                    step = 0;</span><br><span class="line">                &#125;</span><br><span class="line">                x+=12;</span><br><span class="line">                ctx.drawImage(image, 71* step, 111*0, 71, 111, x, 100, 71, 111);</span><br><span class="line">            &#125;,100)</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">在一个元素上通过调用API,进行绘画,使得浏览器重排重绘渲染的过程减少,因为只需要对一个元素进行渲染。</span><br><span class="line">应用场景:</span><br><span class="line">	1.游戏场景;</span><br><span class="line">	2.大量数据图表;</span><br><span class="line">	3.动画; demo网站(codepen.io),集合了很多小demo的网站。</span><br><span class="line">发展简史及支持情况:</span><br><span class="line">    1.Canvas标记由Apple在Safari1.3Web浏览器中引入;</span><br><span class="line">    2.目前主流浏览器都支持,ie9之前的不支持;</span><br><span class="line">    3.html5;</span><br><span class="line">使用:</span><br><span class="line">html</span><br><span class="line">	&lt;canvas width=&quot;100&quot; height=&quot;100&quot;&gt;&lt;/canvas&gt; //宽高的单位不是像素,没有单位,是一个相对的单位</span><br><span class="line">js</span><br><span class="line">    var canvas = document.getElementsByTagName(&quot;canvas&quot;)[0];</span><br><span class="line">    var ctx = canvas.getContext(&quot;2d&quot;); 注意,Canvas获取绘画上下文的api是getContext(&quot;2d&quot;);</span><br><span class="line">绘制图形:</span><br><span class="line">1.直线</span><br><span class="line">    moveTo(x,y); 画笔挪到起始点(x,y)</span><br><span class="line">    lineTo(x,y); 画笔划线到另一点(x,y)</span><br><span class="line">2.样式</span><br><span class="line">    stroke(); 描边画</span><br><span class="line">    lineWidth = 20; 设置线宽</span><br><span class="line">    strokeStyle = &apos;red&apos;; 线的颜色</span><br><span class="line">    closePath(); 闭合路径</span><br><span class="line">    fill(); 填充画</span><br><span class="line">    fillStyle = &apos;red&apos;;填充颜色</span><br><span class="line">设置图形 线样式:</span><br><span class="line">    1.lineWidth: 线条宽度;</span><br><span class="line">    2.lineCap: 线两头样式butt/square/round;</span><br><span class="line">    3.lineJoin: 两线拐角处miter/round/bevel;</span><br><span class="line">    4.miterLimit: 绘制交点的方式;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">绘制图形:</span><br><span class="line">    //三角形a</span><br><span class="line">    ctx.moveTo(100,100);</span><br><span class="line">    ctx.lineTo(200,100);</span><br><span class="line">    ctx.lineTo(200,200);</span><br><span class="line">    ctx.closePath();</span><br><span class="line">    ctx.strokeStyle = &apos;red&apos;;</span><br><span class="line">    ctx.stroke();</span><br><span class="line">    //三角形b</span><br><span class="line">    ctx.moveTo(100,300);</span><br><span class="line">    ctx.lineTo(200,300);</span><br><span class="line">    ctx.lineTo(200,400);</span><br><span class="line">    ctx.closePath();</span><br><span class="line">    ctx.strokeStyle = &apos;green&apos;;</span><br><span class="line">    ctx.stroke();</span><br><span class="line">问:浏览器展示的两个三角形分别是什么颜色的？</span><br><span class="line">解:因为是在同一个路径上的,所以下面的效果会把上面的效果给覆盖掉,即同一个属性写了两遍,解决办法是再重新开启一个新的路径ctx.beginPath()。fill和stroke方法都是作用在当前的所有子路径,若想开辟新的路径,在绘制新路径之前需要使用beginPath();</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">矩形:</span><br><span class="line">	rect(x,y,w,h); 坐标点 宽度 高度</span><br><span class="line">	strokeRect(x,y,w,h); 描边画矩形,自己是一个单独的路径,不对其他路径进行影响,等于重新开辟一个路径</span><br><span class="line">	fillRect(x,y,w,h); 填充画矩形,自己是一个单独的路径,不对其他路径进行影响,相当于重新开辟一个路径</span><br><span class="line">圆形:</span><br><span class="line">	arc(x,y,sAngle,eAngle,false,c); 中心点 半径 起始弧度 终止弧度(0,Math.PI*2 --&gt; 圆) </span><br><span class="line">														   默认是false按照顺时针画的</span><br><span class="line">曲线:</span><br><span class="line">	两条切线之间的弧或者曲线</span><br><span class="line">	arcTo(x1,y1,x2,y2,r);</span><br><span class="line">二次方,三次方曲线方程:</span><br><span class="line">    quadraticCurveTo(cpx,cpy,x,y);</span><br><span class="line">    bezierCurveTo(cp1x,cp1y,cp2x,cp2y,x,y);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            canvas&#123; //以这里为实际宽高</span><br><span class="line">                border: 1px solid #000;</span><br><span class="line">                width: 200px;</span><br><span class="line">                height: 200px;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">    	//如果style里面没有设置宽高,则默认为400px;</span><br><span class="line">        &lt;canvas id=&quot;myCanvas&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var myCanvas = document.getElementById(&apos;myCanvas&apos;);</span><br><span class="line">            console.log(myCanvas.offsetWidth); //获取画布的宽是style里的属性</span><br><span class="line">            var ctx = myCanvas.getContext(&apos;2d&apos;); //canvas的API,画笔</span><br><span class="line"></span><br><span class="line">            ctx.lineWidth = 20; //设置线宽,没有单位</span><br><span class="line">            ctx.strokeStyle = &apos;red&apos;; //设置描边的颜色</span><br><span class="line">            ctx.fillStyle = &apos;green&apos;; //设置填充的颜色</span><br><span class="line">            ctx.moveTo(100, 100); //挪动画笔到(100,100)</span><br><span class="line">            ctx.lineTo(200, 100); //画到(200,100)</span><br><span class="line">            ctx.lineTo(200, 200); </span><br><span class="line">            ctx.lineTo(100,100); //其实这里不一定要重新回到原点也能实现填充</span><br><span class="line">            ctx.closePath(); //路径闭合可以解决上面一行代码产生的缺了一个角的问题,即上面这行代码不写,换成这一行,就不存在缺口的问题了;</span><br><span class="line">            ctx.rect(100, 100, 100, 100); //坐标x,坐标y,宽,高</span><br><span class="line">            ctx.fill(); //填充渲染出来</span><br><span class="line">            ctx.stroke(); //描边渲染出来</span><br><span class="line"></span><br><span class="line">            ctx.beginPath();</span><br><span class="line">            ctx.moveTo(100, 200);</span><br><span class="line">            ctx.lineTo(200, 200);</span><br><span class="line">            ctx.lineWidth = 20;</span><br><span class="line">            ctx.lineCap = &apos;round&apos;; //butt默认,square/round</span><br><span class="line">            ctx.stroke();</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">渐变:</span><br><span class="line">	线性渐变:起点和终点,这里只是规定一个方向,从某一点到另一点方向的渐变</span><br><span class="line">		createLinearGradient(x1,y1,x2,y2);</span><br><span class="line">	径向渐变:从某一个圆到另一个圆的渐变</span><br><span class="line">		createRadialGradient(x1,y1,r1,x2,y2,r2);</span><br><span class="line">绘制图案:</span><br><span class="line">    createPattern(img,&apos;repeat|repeat-x|repeat-y|no-repeat&apos;); //把图片放到canvas中</span><br><span class="line">    img:图片,画布,视频元素;</span><br><span class="line">    注意:等资源加载完;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">操作图形:</span><br><span class="line">1.translate(dx,dy); </span><br><span class="line">重新映射画布上的(0,0)位置,平移了坐标系,改变了中心点,操作的是整个画布,在平移之后下面所画的图形也是带有平移之后效果的;		ctx.translate(100,100);</span><br><span class="line">2.scale(sx,sy);</span><br><span class="line">缩放当前绘图</span><br><span class="line">ctx.scale(0.5, 2); 水平方向缩小为原来的0.5倍,垂直方向拉伸为原来的2倍</span><br><span class="line">3.rotate(Math.PI);</span><br><span class="line">旋转当前的绘图</span><br><span class="line">ctx.rotate(Math.PI*0.25);</span><br><span class="line">4.save();</span><br><span class="line">保存当前图像的一份拷贝;</span><br><span class="line">5.restore();</span><br><span class="line">栈中弹出存储的图形状态并恢复</span><br><span class="line">6.setTransform(a,b,c,d,e,f);</span><br><span class="line">参数:a水平缩放,b水平倾斜,c垂直倾斜,d垂直缩放,e水平移动,f垂直移动</span><br><span class="line">变换矩阵,先重置再变换,会清空原来的坐标系再重新开始绘制</span><br><span class="line">7.transform(a,b,c,d,e,f);</span><br><span class="line">在之前的基础上变换,不会清空坐标系,继续绘制(6和7是一样的)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            canvas&#123;</span><br><span class="line">                border: 1px solid #000;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;canvas id=&quot;myCanvas&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;img id=&quot;img&quot; src=&quot;./video/1.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var myCanvas = document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">            var ctx = myCanvas.getContext(&apos;2d&apos;);</span><br><span class="line">            </span><br><span class="line">            var img = document.getElementById(&apos;img&apos;);</span><br><span class="line">            img.onload = function() &#123;</span><br><span class="line">                var bg = ctx.createPattern(img, &apos;repeat&apos;);</span><br><span class="line">                ctx.fillStyle = bg;</span><br><span class="line">                ctx.fillRect(0, 0, 400, 400);</span><br><span class="line">            &#125;;</span><br><span class="line">            //var bg = ctx.createLinearGradient(0,100,400,100); //这里换成var bg = ctx.createRadialGradient(200, 200, 50, 200, 200, 100);同心圆,一个半径是50,一个半径是100</span><br><span class="line">            //bg.addColorStop(0,&apos;red&apos;); //颜色设置为transparent</span><br><span class="line">            //bg.addColorStop(0.5, &apos;orange&apos;);</span><br><span class="line">            //bg.addColorStop(1, &apos;green&apos;); //颜色设置为transparent 透明色</span><br><span class="line">            //ctx.fillStyle = bg;</span><br><span class="line">            //ctx.fillRect(0, 0, 400, 100);</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            canvas&#123;</span><br><span class="line">                border: 1px solid #000;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;canvas id=&quot;myCanvas&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var myCanvas = document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">            var ctx = myCanvas.getContext(&apos;2d&apos;);</span><br><span class="line">            </span><br><span class="line">            var w = myCanvas.width,</span><br><span class="line">                h = myCanvas.height;</span><br><span class="line">            ctx.translate(200, 100);</span><br><span class="line">            for(var i = 1;i &lt; 60;i ++) &#123;</span><br><span class="line">                ctx.translate(30,30); //向右平移</span><br><span class="line">                ctx.scale(0.95, 0.95); //缩放圆,变小 </span><br><span class="line">                //ctx.transform(0.95, 0, 0, 0.95, 30, 30); 可以替换上面两行代码</span><br><span class="line">                ctx.rotate(Math.PI/12); //每次在原来的基础上旋转30°</span><br><span class="line"></span><br><span class="line">                ctx.beginPath();</span><br><span class="line">                ctx.fillStyle = &apos;red&apos;;</span><br><span class="line">                ctx.globalAlpha = &apos;0.4&apos;; //透明度</span><br><span class="line">                ctx.arc(0, 0, 50, 0, Math.PI*2, true);</span><br><span class="line">                ctx.closePath(); //做一个闭合图形的时候最好都带上closePath</span><br><span class="line">                ctx.fill();</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">globalCompositeOperation组合图形</span><br><span class="line">ctx.globalCompositeOperation = &apos;source-over&apos;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">clearRect(x,y,dx,dy); //擦除当前区域</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            canvas&#123;</span><br><span class="line">                border: 1px solid #000;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;canvas id=&quot;myCanvas&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var myCanvas = document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">            var ctx = myCanvas.getContext(&apos;2d&apos;);</span><br><span class="line">            </span><br><span class="line">            var w = myCanvas.width,</span><br><span class="line">                h = myCanvas.height;</span><br><span class="line">            ctx.fillRect(0, 0, w, h);</span><br><span class="line">            myCanvas.onmousemove = function(e) &#123;</span><br><span class="line">                ctx.clearRect(e.clientX - 25, e.clientY - 25, 50, 50); </span><br><span class="line">                //绑定一个鼠标事件,e.client鼠标的x方向,-25是把中心点移动到橡皮中间位置;</span><br><span class="line">            &#125;;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">矩形落地demo</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            canvas&#123;</span><br><span class="line">                border: 1px solid #000;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;canvas id=&quot;myCanvas&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var myCanvas = document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">            var ctx = myCanvas.getContext(&apos;2d&apos;);</span><br><span class="line">            </span><br><span class="line">            var w = myCanvas.width,</span><br><span class="line">                h = myCanvas.height;</span><br><span class="line">            var y = 0;</span><br><span class="line">            ctx.fillRect(100, y, 50, 50);</span><br><span class="line">            var timer = setInterval(function() &#123;</span><br><span class="line">                ctx.clearRect(0, 0, w, h); //每次进来都要清空画布</span><br><span class="line">                y += 10;</span><br><span class="line">                if(y &gt;= 350) &#123;</span><br><span class="line">                    clearInterval(timer);</span><br><span class="line">                    ctx.fillRect(100,350, 50, 50); //直接生成</span><br><span class="line">                &#125;else &#123;</span><br><span class="line">                    ctx.fillRect(100, y, 50, 50);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, 50);</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            canvas&#123;</span><br><span class="line">                border: 1px solid #000;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;canvas id=&quot;myCanvas&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var myCanvas = document.getElementById(&quot;myCanvas&quot;);</span><br><span class="line">            var ctx = myCanvas.getContext(&apos;2d&apos;);</span><br><span class="line">            </span><br><span class="line">            var w = myCanvas.width,</span><br><span class="line">                h = myCanvas.height;</span><br><span class="line">            ctx.fillStyle = &apos;red&apos;; //画布填充色 红色</span><br><span class="line">            ctx.fillRect(0, 0, 400, 400); //范围是整个画布</span><br><span class="line">            //采用新旧像素合并的方式擦除重叠区域;</span><br><span class="line">            ctx.globalCompositeOperation = &apos;destination-out&apos;; </span><br><span class="line">            myCanvas.onmousemove = function(e) &#123;</span><br><span class="line">                ctx.beginPath();</span><br><span class="line">                ctx.arc(e.clientX, e.clientY, 50, 0, Math.PI*2);</span><br><span class="line">                ctx.closePath();</span><br><span class="line">                ctx.fillStyle = &apos;green&apos;;</span><br><span class="line">                ctx.fill();</span><br><span class="line">            &#125;;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">绘制图像:</span><br><span class="line">    1.drawImage导入图片,并抠图;</span><br><span class="line">    	drawImage(image,x,y); 在画布上定位图像,插入到canvas的起始坐标;</span><br><span class="line">    	drawImage(image,x,y,width,height); 在画布上定位图像,并规定图像的宽度和高度;</span><br><span class="line">    	drawImage(image,sx,sy,swidth,sheight,x,y,width,height); 裁剪起始点坐标(sx,sy),以及裁剪的宽swidth,裁剪的高sheight,剪切图像,并在画布上定位被剪切的部分;在图片的(sx,sy)点为起点,以宽swidth和高sheight为大小进行裁剪,并且把裁剪后的图片放在canvas中的以点(x,y),以及宽和高进行放置;</span><br><span class="line">    2.getImageDate(x,y,dx,dy); //同源策略,需要开服务器,在服务器上进行操作;</span><br><span class="line">    3.createImageDate(w,h); //创建新的空白ImageDate对象;</span><br><span class="line">    4.putImageDate(imgDate,x,y); //将图像数据放回画布上;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1.抽取canvas为图片,是dom元素上的方法;</span><br><span class="line">2.canvas.toDateURL();将canvas的内容抽取成一张图片,base64编码格式;</span><br><span class="line">	注:同源策略的限制,要开启服务器,在www目录下打开</span><br><span class="line">3.将canvas的内容放去img元素里;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">模糊问题:</span><br><span class="line">    1.位图像素放大会失真,canvas为位图像素;</span><br><span class="line">    2.canvas绘图时,会从两个物理像素的中间位置开始绘制并向两边扩散0.5个物理像素。由于不存在0.5个像素,两边都取了1个像素,视觉上就造成了模糊。解决方案:放大再缩小。</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">SVG</span><br><span class="line">使用:</span><br><span class="line">    在线编辑工具 Method Draw</span><br><span class="line">    地址:http://editor.method.ac/</span><br><span class="line">    只要粘贴path元素放到svg便签中</span><br><span class="line">html:</span><br><span class="line">	&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;&lt;/svg&gt;</span><br><span class="line">js:</span><br><span class="line">    var char = &quot;http://www.w3.org/2000/svg&quot;;</span><br><span class="line">    var svg = document.createElementNS(char,&apos;svg&apos;);</span><br><span class="line">注意:</span><br><span class="line">	SVG元素对象一般通过调用setAttribute();方法来设定属性值;</span><br><span class="line">应用场景:</span><br><span class="line">    1.图形(脑图);百度脑图</span><br><span class="line">    2.图标,logo(矢量图);放大不失真</span><br><span class="line">    3.动效;</span><br><span class="line">发展简史及支持情况:</span><br><span class="line">    1.在2003年,SVG1.1被确定为W3C标准;</span><br><span class="line">    2.Firefox、IE9+、Chrome、Safari;</span><br><span class="line">基础元素:</span><br><span class="line">    1.直线(起始点和终点);</span><br><span class="line">    	&lt;line x1=&quot;100&quot; y1=&quot;100&quot; x2=&quot;200&quot; y2=&quot;100&quot;&gt;&lt;/line&gt;</span><br><span class="line">    2.矩形(rx水平方向设置圆角和ry垂直方向设置圆角);</span><br><span class="line">    	&lt;rect x=&quot;100&quot; y=&quot;100&quot; width=&quot;100&quot; height=&quot;100&quot; rx=&quot;20&quot; ry=&quot;50&quot;&gt;&lt;/rect&gt;</span><br><span class="line">    3.圆形(中心点cx,cy和半径r);</span><br><span class="line">    	&lt;circle cx=&quot;100&quot; cy=&quot;100&quot; r=&quot;50&quot;&gt;&lt;/circle&gt;</span><br><span class="line">    4.椭圆(圆心rx,ry和水平方向垂直方向的长轴和短轴cx,cy。属性可以写像素px,和canvas不一样);</span><br><span class="line">    	&lt;ellipse rx=&quot;100&quot; ry=&quot;50&quot; cx=&quot;250&quot; cy=&quot;250&quot;&gt;&lt;/ellipse&gt;</span><br><span class="line">    5.多边形(写各个边的顶点坐标);</span><br><span class="line">    	&lt;polygon points=&quot;100 100,70 150,130 150&quot;&gt;&lt;/polygon&gt;</span><br><span class="line">    6.折线(点,像canvas一样会把起始点和结束点自动连接一下,然后自动填充颜色);</span><br><span class="line">    	&lt;polyline points=&quot;0 100,100 35,200 150,300 75,400 150,500 20&quot;&gt;&lt;/polyline&gt;</span><br><span class="line">    7.字体(字体设定的位置坐标x,y);</span><br><span class="line">    	&lt;text x=&quot;300&quot; y=&quot;300&quot;&gt;蝉壳&lt;/text&gt;</span><br><span class="line">基础样式:</span><br><span class="line">    1.fill: transparent;透明</span><br><span class="line">    2.stroke: red;</span><br><span class="line">    3.stroke-width: 10px;</span><br><span class="line">    4.stroke-opacity/fill-opacity: 0.5;</span><br><span class="line">    5.stroke-linecap: butt/round/square;</span><br><span class="line">    6.stroke-linejoin: bevel/round/miter; 两条线交点处的样式</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">重要元素:</span><br><span class="line">&lt;path&gt;元素可以定义一个路径,属性说明如下: </span><br><span class="line">    d:定义路径指令;</span><br><span class="line">    M = moveto 移动到;</span><br><span class="line">    L = lineto 画线到;</span><br><span class="line">    H = horizontal lineto 水平画线到;</span><br><span class="line">    V = vertical lineto 垂直画线到;</span><br><span class="line">    C = curveto 三次贝塞尔曲线画线到;</span><br><span class="line">    S = smooth curveto 光滑三次贝塞尔曲线画线到;</span><br><span class="line">    Q = quadratic Bezier curve 二次贝塞尔曲线画线到,有一个起点终点和控制点;</span><br><span class="line">    T = smooth quadratic Bezier curve 光滑二次贝塞尔曲线画线到;</span><br><span class="line">    A = elliptical Arc 椭圆弧;</span><br><span class="line">        &lt;path d=&quot;M 100 100 A 70 120 0 1 1 150 200&quot;&gt;</span><br><span class="line">        起始点(100,100);</span><br><span class="line">        终点(150,200);</span><br><span class="line">        A里面的70 120代表椭圆的长轴和短轴;</span><br><span class="line">        0代表旋转,先旋转后相交;</span><br><span class="line">        前一个1代表取两点相交之间较长的部分;</span><br><span class="line">        后一个1代表取顺时针部分;</span><br><span class="line">    Z = closepath 关闭路径,后面没有属性值;</span><br><span class="line">注:以上所有命令均允许大小写,大写表示绝对定位,小写表示相对定位;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;style&gt;</span><br><span class="line">	svg&#123;</span><br><span class="line">        border: 1px solid #000;</span><br><span class="line">	&#125;</span><br><span class="line">	line&#123;</span><br><span class="line">        stroke: red; //画线比较特别</span><br><span class="line">	&#125;</span><br><span class="line">	circle&#123;</span><br><span class="line">        fill: green; //也可以和宽高一样直接写在dom元素上</span><br><span class="line">	&#125;</span><br><span class="line">	path&#123;</span><br><span class="line">        fill: transparent;</span><br><span class="line">        stroke: #000;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;svg width=&quot;500&quot; height=&quot;500&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">		&lt;line x1=&quot;100&quot; y1=&quot;100&quot; x2=&quot;200&quot; y2=&quot;100&quot;&gt;&lt;/line&gt;</span><br><span class="line">		&lt;path d=&quot;M 100 100 L 400 100&quot;&gt;&lt;/path&gt;</span><br><span class="line">	&lt;/svg&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">路径属性:</span><br><span class="line">1.stroke-dasharray: 100px; </span><br><span class="line">    1个值对应画多少空多少 ---&gt; 虚线;</span><br><span class="line">    2个值对应画和空 ---&gt; 虚线;</span><br><span class="line">    循环我们所填的值(顺序是画一下,空一下);</span><br><span class="line">2.stroke-dashoffset: 15px;</span><br><span class="line">	调整线往里缩;</span><br><span class="line">注:getTotalLength获取路径长度</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            svg&#123;</span><br><span class="line">                border: 1px solid #000;</span><br><span class="line">                stroke: #000;</span><br><span class="line">                stroke-width: 3px;</span><br><span class="line">                stroke-dasharray: 300px;</span><br><span class="line">                stroke-dashoffset: 15px;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;svg width=&quot;500&quot; height=&quot;500&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">            &lt;path id=&quot;move&quot; d=&quot;M 100 100 L 400 100&quot;&gt;&lt;/path&gt;</span><br><span class="line">        &lt;/svg&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            //做动画计时器</span><br><span class="line">            var stroke = 0;</span><br><span class="line">            var timer = setInterval(function() &#123;</span><br><span class="line">                stroke += 10;</span><br><span class="line">                if(stroke &lt; 300) &#123;</span><br><span class="line">                    move.style.strokeDashoffset = stroke + &quot;px&quot;;</span><br><span class="line">                &#125;else &#123;</span><br><span class="line">                    clearInterval(timer);</span><br><span class="line">                    move.style.strokeDashoffset = &quot;300px&quot;; //防止bug</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, 100);</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            svg&#123;</span><br><span class="line">                border: 1px solid #000;</span><br><span class="line">                stroke: #000;</span><br><span class="line">                stroke-width: 3px;</span><br><span class="line">                stroke-dasharray: 300px;</span><br><span class="line">                stroke-dashoffset: 15px;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;svg width=&quot;500&quot; height=&quot;500&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; version=&quot;1.1&quot;&gt;</span><br><span class="line">            &lt;path id=&quot;move&quot; d=&quot;M 100 100 A 70 120 90 1 1 150 200&quot; stroke=&quot;orange&quot; stroke-width=&quot;3&quot; fill=&quot;none&quot;&gt;&lt;/path&gt;</span><br><span class="line">        &lt;/svg&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            //做动画计时器</span><br><span class="line">            var total = move.getTotalLength(); // 获取圆弧的总长度</span><br><span class="line">            move.style.strokeDasharray = total + &quot;px&quot;;</span><br><span class="line">            var stroke = 0;</span><br><span class="line">            var timer = setInterval(function() &#123;</span><br><span class="line">                stroke += 10;</span><br><span class="line">                if(stroke &lt; total) &#123;</span><br><span class="line">                    move.style.strokeDashoffset = stroke + &quot;px&quot;;</span><br><span class="line">                &#125;else &#123;</span><br><span class="line">                    clearInterval(timer);</span><br><span class="line">                    move.style.strokeDashoffset = total + &quot;px&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;, 100);</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">渐变(了解即可):</span><br><span class="line">1.线性渐变:</span><br><span class="line">    &lt;defs&gt;</span><br><span class="line">        &lt;linearGradient id=&quot;bg1&quot; x1=&quot;0&quot; y1=&quot;0&quot; x2=&quot;0&quot; y2=&quot;100%&quot;&gt;</span><br><span class="line">            &lt;stop offset=&quot;0%&quot; style=&quot;stop-color:rgba(255,255,0);&quot;/&gt;</span><br><span class="line">            &lt;stop offset=&quot;100%&quot; style=&quot;stop-color:rgba(255,0,0);&quot;/&gt;</span><br><span class="line">        &lt;/linearGradient&gt;</span><br><span class="line">    &lt;/defs&gt;</span><br><span class="line">    &lt;rect x=&quot;0&quot; y=&quot;0&quot; width=&quot;500&quot; height=&quot;500&quot; style=&quot;fill:yrl(#bg1)&quot;/&gt;</span><br><span class="line">2.径向渐变:</span><br><span class="line">    &lt;defs&gt;</span><br><span class="line">        &lt;radialGradient id=&quot;bg2&quot; cx=&quot;50%&quot; cy=&quot;50%&quot; r=&quot;50%&quot; fx=&quot;50%&quot; fy=&quot;50%&quot;&gt;</span><br><span class="line">            &lt;stop offset=&quot;0%&quot; style=&quot;stop-color:green;&quot;/&gt;</span><br><span class="line">            &lt;stop offset=&quot;100%&quot; style=&quot;stop-color:red;&quot;/&gt;</span><br><span class="line">        &lt;/radialGradient&gt;</span><br><span class="line">    &lt;/defs&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">滤镜:</span><br><span class="line">1.高斯滤镜:</span><br><span class="line">	&lt;defs&gt;</span><br><span class="line">		&lt;filter id=&quot;Gaussian_Blur&quot;&gt;</span><br><span class="line">			&lt;feGaussianBlur in=&quot;SourceGraphic&quot; stdDeviation=&quot;20&quot;/&gt;</span><br><span class="line">		&lt;/filter&gt;</span><br><span class="line">	&lt;/defs&gt;</span><br><span class="line">	&lt;rect x=&quot;0&quot; y=&quot;0&quot; width=&quot;500&quot; height=&quot;500&quot; fill=&quot;yellow&quot; 			style=&quot;filter:url(#Gaussian_Blur)&quot;/&gt;</span><br><span class="line">2.其他滤镜:</span><br><span class="line">	http://www.w3chool.com.cn/svg/svg_filters_intro.asp</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Drag和Drop拖放操作</span><br><span class="line">拖放API:</span><br><span class="line">绑定在被拖放元素上:</span><br><span class="line">    dragstart 开始被拖拽时触发</span><br><span class="line">    drag 在拖拽过程中触发</span><br><span class="line">    dragend 拖拽完成时触发</span><br><span class="line">绑定在目标元素上:</span><br><span class="line">    dragenter 被拖放元素进入目标元素上时触发</span><br><span class="line">    dragover 被拖放元素在目标元素上时触发</span><br><span class="line">    dragleave 被拖放元素离开目标元素上时触发</span><br><span class="line">    drop 被拖放元素在目标元素上同时鼠标放开时触发 (注:需要阻止dragover的默认行为才会触发drop事件)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DataTransfer对象:</span><br><span class="line">    1.getData(); 向DataTransfer对象中存放数据</span><br><span class="line">    2.setDate(); 从DateTransfer对象中读取数据</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">demo:把元素拖拽到目标区域</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            .drag, .drag2&#123;</span><br><span class="line">                width: 100px;</span><br><span class="line">                height: 100px;</span><br><span class="line">                background: #ccc;</span><br><span class="line">                border-radius: 20px;</span><br><span class="line">                text-align: center;</span><br><span class="line">                line-height: 100px;</span><br><span class="line">            &#125;</span><br><span class="line">            .target&#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                right: 0;</span><br><span class="line">                top: 0;</span><br><span class="line">                width: 300px;</span><br><span class="line">                height: 300px;</span><br><span class="line">                border: 1px dashed #000; </span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">    	//draggable=&quot;true&quot;属性就是可以拖动文件的灵魂</span><br><span class="line">        &lt;div class=&quot;drag&quot; draggable=&quot;true&quot;&gt;drag&lt;/div&gt; </span><br><span class="line">        &lt;div class=&quot;drag2&quot; draggable=&quot;true&quot;&gt;drag2&lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;target&quot;&gt;目标元素&lt;/div&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var drag = document.getElementsByClassName(&apos;drag&apos;)[0];</span><br><span class="line">                drag2 = document.getElementsByClassName(&apos;drag2&apos;)[0];</span><br><span class="line">                target = document.getElementsByClassName(&apos;target&apos;)[0];</span><br><span class="line">            drag.addEventListener(&apos;dragstart&apos;, function(e) &#123; </span><br><span class="line">                var dt = e.dataTransfer; //dataTransfer对象</span><br><span class="line">                dt.setData(&apos;id&apos;, this.className); //传值,&apos;id&apos;是索引,与下文相对应</span><br><span class="line">                console.log(&apos;dragstart&apos;);</span><br><span class="line">            &#125;);</span><br><span class="line">            drag2.addEventListener(&apos;dragstart&apos;, function(e) &#123;</span><br><span class="line">                var dt = e.dataTransfer;</span><br><span class="line">                dt.setData(&apos;id&apos;, this.className);</span><br><span class="line">                console.log(&apos;dragstart&apos;);</span><br><span class="line">            &#125;);</span><br><span class="line">            // drag.addEventListener(&apos;drag&apos;, function() &#123;</span><br><span class="line">            //     console.log(&apos;drag&apos;);</span><br><span class="line">            // &#125;);</span><br><span class="line">            // drag.addEventListener(&apos;dragend&apos;, function() &#123;</span><br><span class="line">            //     console.log(&apos;dragend&apos;);</span><br><span class="line">            // &#125;);</span><br><span class="line">            // target.addEventListener(&apos;dragenter&apos;, function() &#123;</span><br><span class="line">            //     console.log(&apos;dragenter&apos;);</span><br><span class="line">            // &#125;);</span><br><span class="line">            target.addEventListener(&apos;dragover&apos;, function(e) &#123; //绑定在目标元素上</span><br><span class="line">                e.preventDefault(); //取消默认事件,默认事件下是触发dragleave,不触发drap</span><br><span class="line">                // console.log(&apos;dragover&apos;);</span><br><span class="line">            &#125;);</span><br><span class="line">            // target.addEventListener(&apos;dragleave&apos;, function() &#123; //很少使用</span><br><span class="line">            //     console.log(&apos;dragleave&apos;);</span><br><span class="line">            // &#125;);</span><br><span class="line">            target.addEventListener(&apos;drop&apos;, function(e) &#123; //drop,被拖放元素在目标元素上同时鼠标放开时触发,需在dragover里面取消默认事件才能生效</span><br><span class="line">                var dt = e.dataTransfer;</span><br><span class="line">                var text = dt.getData(&apos;id&apos;);</span><br><span class="line">                this.appendChild(document.getElementsByClassName(text)[0]); //把要拖拽的元素的dom获取,添加子元素到html中</span><br><span class="line">                console.log(text);</span><br><span class="line">            &#125;);</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">demo:拖拽元素到删除区域并且删除元素,还可以进行元素排序功能</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            body, ul, li&#123;</span><br><span class="line">            	margin: 0;</span><br><span class="line">                padding: 0;</span><br><span class="line">            &#125;</span><br><span class="line">            li&#123;</span><br><span class="line">                width: 200px;</span><br><span class="line">                height: 40px;</span><br><span class="line">                text-align: center;</span><br><span class="line">                line-height: 40px;</span><br><span class="line">                color: #fff;</span><br><span class="line">                background: #ccc;</span><br><span class="line">                margin: 20px;</span><br><span class="line">            &#125;</span><br><span class="line">            .remove&#123;</span><br><span class="line">                width: 300px;</span><br><span class="line">                height: 300px;</span><br><span class="line">                background: #000;</span><br><span class="line">                color: #fff;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li class=&quot;item1&quot; draggable=&quot;true&quot;&gt;列表1&lt;/li&gt;</span><br><span class="line">            &lt;li class=&quot;item2&quot; draggable=&quot;true&quot;&gt;列表2&lt;/li&gt;</span><br><span class="line">            &lt;li class=&quot;item3&quot; draggable=&quot;true&quot;&gt;列表3&lt;/li&gt;</span><br><span class="line">            &lt;li class=&quot;item4&quot; draggable=&quot;true&quot;&gt;列表4&lt;/li&gt;</span><br><span class="line">            &lt;li class=&quot;item5&quot; draggable=&quot;true&quot;&gt;列表5&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">        &lt;div class=&quot;remove&quot;&gt;删除列表&lt;/div&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var li = document.getElementsByTagName(&apos;li&apos;),</span><br><span class="line">                remove = document.getElementsByClassName(&apos;remove&apos;)[0],</span><br><span class="line">                ul = document.getElementsByTagName(&apos;ul&apos;)[0],</span><br><span class="line">                len = li.length;</span><br><span class="line">            function bindLiEvent(e) &#123;</span><br><span class="line">                for(var i = 0;i &lt; len;i ++) &#123;</span><br><span class="line">                    // (function(j) &#123; //j是形参,相当于上面的e,绑定一个立即执行函数,为啥?如果没有立即执行函数的话,光光执行下面三行代码,结果出来都是5了,我们只是在函数体里面定义了一个函数,并没有去执行所以需要使用到立即执行函数</span><br><span class="line">                        li[i].addEventListener(&apos;dragstart&apos;, function(e) &#123;</span><br><span class="line">                            var dt = e.dataTransfer;</span><br><span class="line">                            var index = findIndex(this, li);</span><br><span class="line">                            dt.setData(&apos;data&apos;, index);</span><br><span class="line">                        &#125;)</span><br><span class="line">                    // &#125;)(i) //这个i是for循环中的i</span><br><span class="line">                    li[i].addEventListener(&apos;dragover&apos;, function(e) &#123;</span><br><span class="line">                        e.preventDefault();</span><br><span class="line">                    &#125;);</span><br><span class="line">                    li[i].addEventListener(&apos;drop&apos;, function(e) &#123;</span><br><span class="line">                        var dt = e.dataTransfer;</span><br><span class="line">                        var index = dt.getData(&apos;data&apos;); //读取一下</span><br><span class="line">                        console.log(index);</span><br><span class="line">                        ul.insertBefore(li[index], this);</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            function bindRemoveEvent() &#123;</span><br><span class="line">                remove.addEventListener(&apos;drop&apos;, function(e) &#123;</span><br><span class="line">                    var dt = e.dataTransfer;</span><br><span class="line">                    var index = dt.getData(&apos;data&apos;);</span><br><span class="line">                    console.log(index);</span><br><span class="line">                    li[index].remove(); //删除dom元素</span><br><span class="line">                &#125;);</span><br><span class="line">                remove.addEventListener(&apos;dragover&apos;, function(e) &#123; </span><br><span class="line">                    e.preventDefault();</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;;</span><br><span class="line">            bindLiEvent();</span><br><span class="line">            bindRemoveEvent();</span><br><span class="line">            function findIndex(dom, list) &#123;</span><br><span class="line">                for(var i = 0;i &lt; len;i ++) &#123;</span><br><span class="line">                    if(list[i] == dom) &#123;</span><br><span class="line">                        return i;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            //两个注意点:1.如何使用立即执行函数把每次的索引值传进去;2.发现立即执行函数还是存在问题,我们要实现的功能是将li数组进行排序,这样对应的数组就会有下标,当我们使用立即执行函数的时候,第一次是没有问题的,可是位置发生变化之后,对应的数组下标序号并没有改变,即一开始便固定好了索引值,而我们需要的是每次移动的时候,索引值是新鲜的</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">FileReader文件操作</span><br><span class="line">fileList and file</span><br><span class="line">    1.fileList:表示用户选择的文件列表;</span><br><span class="line">    2.file:表示file控件内的每一个被选择的文件对象;</span><br><span class="line">    3.fileList是这些file对象的列表;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fileReader对象:负责把文件读入内存,并且读取文件中的数据;</span><br><span class="line">1.读取并显示文件:</span><br><span class="line">    readAsText(); 将文件中的数据读取成文本数据(用的较多)</span><br><span class="line">    readAsDataURL(); 将文件中的数据读取为DataURL字符串,对象是图片的话,我们可以用这个(用的较多)</span><br><span class="line">    readAsBinaryString(); 将文件中的数据读取为二进制字符串</span><br><span class="line">    readAsArrayBuffer(); 将文件中的数据读取为一个ArrayBuffer对象</span><br><span class="line">    abort(); 中断文件读取操作</span><br><span class="line">2.检测读取事件:</span><br><span class="line">    onabort: 数据读取中断时触发;</span><br><span class="line">    onprogress: 数据读取中触发;</span><br><span class="line">    onerror: 数据读取出错时触发;</span><br><span class="line">    onload: 数据读取成功时触发;</span><br><span class="line">    onloadstart: 数据开始读取时触发;</span><br><span class="line">    onloadend: 数据读取完成时触发(不论成功还是失败);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Blob对象:</span><br><span class="line">    1.blob对象的访问;</span><br><span class="line">    2.blob对象的创建;</span><br><span class="line">    3.截取blob对象;</span><br><span class="line">		var blob = new Blob([&apos;asdf&apos;]);</span><br><span class="line">		var reader = new FileReader();</span><br><span class="line">		reader.readAsText(blob.slice(0,2)); //裁剪,从第0位开始往后裁剪两位</span><br><span class="line">		//reader.readAsText(blob);</span><br><span class="line">        reader.onload = function() &#123;</span><br><span class="line">            console.log(reader.result);</span><br><span class="line">        &#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;input type=&quot;file&quot; id=&quot;file&quot; multiple&gt;</span><br><span class="line">        &lt;input type=&quot;button&quot; id=&quot;btn&quot; value=&quot;提交&quot;&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var btn = document.getElementById(&apos;btn&apos;);</span><br><span class="line">                file = document.getElementById(&apos;file&apos;);</span><br><span class="line">            btn.onclick = function() &#123;</span><br><span class="line">                var list = file.files; //files是一个数组,数组的名字叫做fileList</span><br><span class="line">                // console.log(list);</span><br><span class="line">                var len = list.length;</span><br><span class="line">                for(var i = 0;i &lt; len;i ++) &#123;</span><br><span class="line">                    if(list[i].type == &apos;image/png&apos;) &#123;</span><br><span class="line">                        //执行上传代码</span><br><span class="line">                        alert(list[i].name + &apos;上传成功&apos;);</span><br><span class="line">                        var reader = new FileReader();</span><br><span class="line">                        reader.readAsDataURL(list[i]);</span><br><span class="line">                        reader.onload = function() &#123;</span><br><span class="line">                            console.log(reader.result);</span><br><span class="line">                            var img = new Image();</span><br><span class="line">                            img.src = reader.result;</span><br><span class="line">                            document.body.appendChild(img);</span><br><span class="line">                        &#125;;</span><br><span class="line">                    &#125;</span><br><span class="line">                    if(list[i].type == &apos;text/plain&apos;) &#123; //如果上传的文件是一个text的时候,当我们不仅想要知道文本的格式,大小等基本信息,还想知道文本的内容是什么,用readAsText读取成文本的格式</span><br><span class="line">                        var reader = new FileReader(); //读取的话需要有一个FileReader对象 </span><br><span class="line">                        // console.log(reader);</span><br><span class="line">                        reader.readAsText(list[i].slice(0,2)); //将文件中的数据读取成文本数据,读取的是这个文件</span><br><span class="line">                        reader.onload = function() &#123; //onload是读取成功时候触发的</span><br><span class="line">                            console.log(reader.result); //文件读取的结果</span><br><span class="line">                            //上传</span><br><span class="line">                        &#125;;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">优化Web动画</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            .demo&#123;</span><br><span class="line">                position: absolute; /*我们在做动画的时候一般都是需要设置定位的*/</span><br><span class="line">                left: 0;</span><br><span class="line">                top: 100px;</span><br><span class="line">                width: 100px;</span><br><span class="line">                height: 100px;</span><br><span class="line">                background: pink;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div class=&quot;demo&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">        	//setInterval计时器是每隔多少秒执行一次</span><br><span class="line">            //var oDemo = document.getElementsByClassName(&apos;demo&apos;)[0];</span><br><span class="line">            // var timer = setInterval(move, 100); </span><br><span class="line">            // function move() &#123;</span><br><span class="line">            //     var l = oDemo.offsetLeft;</span><br><span class="line">            //     // console.log(l);</span><br><span class="line">            //     if(l &lt; 500) &#123;</span><br><span class="line">            //         oDemo.style.left = l + 10 + &apos;px&apos;;</span><br><span class="line">            //     &#125;else &#123;</span><br><span class="line">            //         oDemo.style.left = &apos;500px&apos;; //注意:如果超出了,强制地给她挪回到500px</span><br><span class="line">            //         clearInterval(timer);</span><br><span class="line">            //     &#125;</span><br><span class="line">            // &#125;;</span><br><span class="line">            </span><br><span class="line">            //setTimeout计时器是多少秒后执行,只执行一次</span><br><span class="line">            var oDemo = document.getElementsByClassName(&apos;demo&apos;)[0];</span><br><span class="line">            var timer2;</span><br><span class="line">            function move() &#123;</span><br><span class="line">                var l = oDemo.offsetLeft;</span><br><span class="line">                if(l &lt; 500) &#123;</span><br><span class="line">                    oDemo.style.left = l + 9 + &apos;px&apos;;</span><br><span class="line">                    timer2 = setTimeout(move, 100);</span><br><span class="line">                &#125;else &#123;</span><br><span class="line">                    oDemo.style.left = &apos;500px&apos;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            move();</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">计时器做动画存在以下3个问题:</span><br><span class="line">	1.当前窗口不在动画页面时,计时器仍在继续工作,比较浪费CPU,尤其是在移动端;</span><br><span class="line">	2.回调函数执行耗时,像是在排队,就像计时器执行每次时间间隔为100ms,我们函数执行一次需要200ms,这就会导致计时器时间间隔到了,而函数还没开始执行,对应的应该执行的第一次,第二次就会排队在队列中,当回调函数在队列排队较多时,浏览器就会瘫痪;</span><br><span class="line">	3.设置动画频率高,像是过度绘制,会出现掉频。浏览器屏幕刷新频率为1000/60=16.7ms;当计时器执行的频率比浏览器刷新的频率还要快的时候,并没啥子软用,用户看到的还是依照浏览器刷新的频率来看的;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">requestAnimationFrame优势:</span><br><span class="line">	1.当前窗口不在动画页面时便停止工作;</span><br><span class="line">	2.浏览器刷新屏幕时自动执行,无需设置时间间隔;</span><br><span class="line">	3.浏览器内部自带优化;</span><br><span class="line">requestAnimationFrame使用:</span><br><span class="line">	1.req=requestAnimationFrame(cb); 屏幕每次绘制时执行回调函数cb</span><br><span class="line">	2.cancelAnimationFrame(req);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">requestAnimationFrame使用小例子:</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            .demo&#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                left: 0;</span><br><span class="line">                top: 100px;</span><br><span class="line">                width: 100px;</span><br><span class="line">                height: 100px;</span><br><span class="line">                background: pink;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div class=&quot;demo&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var oDemo = document.getElementsByClassName(&apos;demo&apos;)[0];</span><br><span class="line">            function move() &#123;</span><br><span class="line">                var l = oDemo.offsetLeft;</span><br><span class="line">                if(l &lt; 500) &#123;</span><br><span class="line">                    oDemo.style.left = l + 9 + &apos;px&apos;;</span><br><span class="line">                    requestAnimationFrame(move); //不需要设置执行时间</span><br><span class="line">                &#125;else &#123;</span><br><span class="line">                    oDemo.style.left = &apos;500px&apos;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            move();</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">        &lt;style&gt;</span><br><span class="line">            .demo&#123;</span><br><span class="line">                position: absolute;</span><br><span class="line">                left: 0;</span><br><span class="line">                top: 100px;</span><br><span class="line">                width: 100px;</span><br><span class="line">                height: 100px;</span><br><span class="line">                background: pink;</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;div class=&quot;demo&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;button id=&quot;stop&quot;&gt;stop&lt;/button&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var oDemo = document.getElementsByClassName(&apos;demo&apos;)[0];</span><br><span class="line">            var oStop = document.getElementById(&apos;stop&apos;);</span><br><span class="line">            var req;</span><br><span class="line">            function move() &#123;</span><br><span class="line">                var l = oDemo.offsetLeft;</span><br><span class="line">                if(l &lt; 1000) &#123;</span><br><span class="line">                    oDemo.style.left = l + 9 + &apos;px&apos;;</span><br><span class="line">                    req = requestAnimationFrame(move); //不能在这里var req=...是为什么？因为我们需要的是设置一个计时器。如果在这里设置的话,会产生计时器叠加的效果,越来越快</span><br><span class="line">                &#125;else &#123;</span><br><span class="line">                    oDemo.style.left = &apos;1000px&apos;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            oStop.onclick = function() &#123;</span><br><span class="line">                cancelAnimationFrame(req);</span><br><span class="line">            &#125;;</span><br><span class="line">            move();</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">!由于早期浏览器不支持requestAnimationFrame,下面是兼容性写法:</span><br><span class="line">window.requestAnimationFrame = (function(callback) &#123; //立即执行函数</span><br><span class="line">    return window.requestAnimationFrame ||</span><br><span class="line">    	window.WebKitRequestAnimationFrame ||</span><br><span class="line">    	window.mozRequestAnimationFrame ||</span><br><span class="line">    	window.oRequestAnimationFrame ||</span><br><span class="line">    	window.msRequestAnimationFrame ||</span><br><span class="line">    	function() &#123; //如果都不兼容上面这些浏览器,那么就退而求其次使用下面的</span><br><span class="line">            window.setTimeout(callback, 1000/60)</span><br><span class="line">    	&#125;</span><br><span class="line">&#125;)();</span><br><span class="line">window.cancelAnimationFrame = (function(timer) &#123; //立即执行函数</span><br><span class="line">    return window.cancelAnimationFrame ||</span><br><span class="line">    	window.WebKitcancelAnimationFrame ||</span><br><span class="line">    	window.mozcancelAnimationFrame ||</span><br><span class="line">    	window.ocancelAnimationFrame ||</span><br><span class="line">    	window.mscancelAnimationFrame ||</span><br><span class="line">    	function() &#123;</span><br><span class="line">            window.clearTimeout(timer)</span><br><span class="line">    	&#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">demo没得空的小球:</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            window.requestAnimationFrame = (function(callback) &#123; //立即执行函数</span><br><span class="line">                return window.requestAnimationFrame ||</span><br><span class="line">                    window.WebKitRequestAnimationFrame ||</span><br><span class="line">                    window.mozRequestAnimationFrame ||</span><br><span class="line">                    window.oRequestAnimationFrame ||</span><br><span class="line">                    window.msRequestAnimationFrame ||</span><br><span class="line">    	            function() &#123; //如果都不兼容上面这些浏览器,那么就退而求其次使用下面</span><br><span class="line">                        window.setTimeout(callback, 1000/60)</span><br><span class="line">    	            &#125;</span><br><span class="line">            &#125;)();</span><br><span class="line">            var canvas,ctx;</span><br><span class="line">            init();</span><br><span class="line">            request();</span><br><span class="line">            function init() &#123;</span><br><span class="line">                canvas = document.createElement(&apos;canvas&apos;);</span><br><span class="line">                canvas.width= 210;</span><br><span class="line">                canvas.height = 210;</span><br><span class="line">                ctx = canvas.getContext(&apos;2d&apos;);</span><br><span class="line">                document.body.appendChild(canvas);</span><br><span class="line">            &#125;;</span><br><span class="line">            function request() &#123;</span><br><span class="line">                requestAnimationFrame(request);</span><br><span class="line">                draw();</span><br><span class="line">            &#125;</span><br><span class="line">            function draw() &#123;</span><br><span class="line">                var time = new Date().getTime() * 0.002;</span><br><span class="line">                var x = Math.sin(time) * 96 + 105;</span><br><span class="line">                var y = Math.cos(time * 0.9) * 96 + 105;</span><br><span class="line">                ctx.fillStyle = &apos;pink&apos;;</span><br><span class="line">                ctx.fillRect(0, 0, 210, 210);</span><br><span class="line">                ctx.fillStyle = &apos;rgb(255, 0, 0)&apos;;</span><br><span class="line">                ctx.beginPath();</span><br><span class="line">                ctx.arc(x, y, 10, 0, Math.PI*2, true);</span><br><span class="line">                ctx.closePath();</span><br><span class="line">                ctx.fill();</span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">Geolocation地理位置信息</span><br><span class="line">Geolocation API</span><br><span class="line">	1.window.navigator.geolocation对象: 返回经纬坐标等元数据信息;</span><br><span class="line">	2.获取当前地理信息: navigator.geolocation.getCurrentPosition(suc, err, obj);</span><br><span class="line">        参数1:suc 成功回调,有参数option,属性如下:</span><br><span class="line">            longitude:-118.243890999999 经度;</span><br><span class="line">            latitude:34.0653347 纬度;</span><br><span class="line">            accuracy: 经纬度的精度;</span><br><span class="line">            altitude:null 海拔;</span><br><span class="line">            altitudeAccuracy:null 海拔的精度;</span><br><span class="line">            heading:null 设备前进方向;</span><br><span class="line">            speed:null 设备前进速度;</span><br><span class="line">            timestamp: 获取地理位置信息的时间;</span><br><span class="line">		参数2:err 失败回调,有参数error对象,属性如下:</span><br><span class="line">            code属性:</span><br><span class="line">                1.用户拒绝了位置服务;</span><br><span class="line">                2.获取不到位置信息;</span><br><span class="line">                3.获取信息超时;</span><br><span class="line">            message属性:错误信息字符串;</span><br><span class="line">        参数3:obj 可选参数:</span><br><span class="line">            enableHighAccuracy: 是否要求高精度的地理位置信息,对应设置一个true;</span><br><span class="line">            timeout: 超时限制;</span><br><span class="line">            maximumAge: 缓存有效时间,若为0则无条件重新获取新地理信息即多久更新一次新的地理位置</span><br><span class="line">    3.监事位置信息:</span><br><span class="line">        var id = navigator.geolocation.watchPosition(suc,err,obj);</span><br><span class="line">        持续定期的自动获取用户的当前地理位置信息,并同计时器一样有个位置标识。</span><br><span class="line">    4.停止获取位置信息:</span><br><span class="line">        navigator.geolocation.clearWatch(id);</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">        &lt;title&gt;demo&lt;/title&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;script&gt;</span><br><span class="line">            var obj = &#123; //获取地理位置需要设置一个时间</span><br><span class="line">                timeout: 1000 //只给1s时间去获取地理位置,如果超过1s就会超时报错</span><br><span class="line">            &#125;</span><br><span class="line">            navigator.geolocation.getCurrentPosition(suc, err, obj);</span><br><span class="line">            function suc(position) &#123; //成功以后会返回一个position对象</span><br><span class="line">                console.log(position.coords.latitude + &quot;,&quot; + position.coords.longitude);</span><br><span class="line">            &#125;;</span><br><span class="line">            function err(positionError) &#123;</span><br><span class="line">                console.log(positionError);</span><br><span class="line">            &#125;;</span><br><span class="line">        &lt;/script&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">!Geolocation地理位置信息这节课最后面有一个调用百度地图API做一个获取地理位置信息的小地图,需要在IE浏览器上实现,以后做！</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">Worker多线程处理</span><br><span class="line">worker是一个子线程,需要在服务器下才能实现;</span><br><span class="line">使用场景:</span><br><span class="line">	大型数据运算,计时器,异步请求,访问navigator部分属性,js核心对象</span><br><span class="line">使用Worker:</span><br><span class="line">    //主进程文件</span><br><span class="line">        var worker = new Worker(&apos;worker.js&apos;);</span><br><span class="line">        worker.postMessage(10); //通过调用方法把10传到子线程中</span><br><span class="line">        worker.onmessage = function(e) &#123; //onmessage使用子线程传进来的值</span><br><span class="line">            console.log(e.data);</span><br><span class="line">        &#125;;</span><br><span class="line">	//worker文件</span><br><span class="line">        onmessage = function(e) &#123; //用onmessage接收值</span><br><span class="line">            var num = e.data; //经过大量计算返回一个值</span><br><span class="line">            postMessage(num * 100); //通过postMessage把值返回主线程文件里</span><br><span class="line">        &#125;;</span><br><span class="line">结束worker:</span><br><span class="line">    1.close(); 在worker文件中使用,子线程不干了</span><br><span class="line">    2.terminate(); 在worker对象上调用(worker.terminate),主线程辞退子线程</span><br><span class="line">局限性:</span><br><span class="line">    1.不能跨域加载(所以要放到服务器下实现);</span><br><span class="line">    2.worker文件不能访问DOM;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">html:</span><br><span class="line">    var worker = new Worker(&apos;./worker.js&apos;); //创建一个worker,把worker拿过来</span><br><span class="line">                worker.postMessage(10); //给子线程传值</span><br><span class="line">                worker.onmessage = function(e) &#123; //响应子线程传进来的结果</span><br><span class="line">                    cosole.log(e.data);</span><br><span class="line">                &#125;; </span><br><span class="line">js:</span><br><span class="line">    onmessage = function(e) &#123; //响应一下主线程里传进来的值10</span><br><span class="line">        console.log(e.data); //10</span><br><span class="line">        var val = e.data * 10000 * 10000000 *10909; //进行了一个大量运算</span><br><span class="line">        postMessage(val); //传给主线程</span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure>


      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/lostmyself.github.io/2019/08/09/vue组件库等使用/" rel="next" title="vue组件库等使用">
                <i class="fa fa-chevron-left"></i> vue组件库等使用
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/lostmyself.github.io/2019/08/09/进阶JavaScript/" rel="prev" title="进阶JavaScript">
                进阶JavaScript <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/lostmyself.github.io/images/3.jpg" alt="sxw">
            
              <p class="site-author-name" itemprop="name">sxw</p>
              <p class="site-description motion-element" itemprop="description">从一而终</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/lostmyself.github.io/archives/">
              
                  <span class="site-state-item-count">29</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/lostmyself.github.io/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/lostmyself.github.io/tags/index.html">
                  <span class="site-state-item-count">14</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/sxw19960127" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="1183476700@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">sxw</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">131.8k</span>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i> 访问人数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i> 总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lostmyself.github.io/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lostmyself.github.io/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lostmyself.github.io/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lostmyself.github.io/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lostmyself.github.io/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lostmyself.github.io/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lostmyself.github.io/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/lostmyself.github.io/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/lostmyself.github.io/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/lostmyself.github.io/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/lostmyself.github.io/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/lostmyself.github.io/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/lostmyself.github.io/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/lostmyself.github.io/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  


  



<script src="/lostmyself.github.io/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"/lostmyself.github.io/live2dw/assets/koharu.model.json"},"display":{"position":"right","width":200,"height":350},"mobile":{"show":true},"log":false,"tagMode":false});</script></body>
</html>

